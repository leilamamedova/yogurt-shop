(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[619],{619:(e,d,i)=>{"use strict";i.r(d),i.d(d,{ACTION_ADD:()=>Q,ACTION_FALLBACK:()=>W,ACTION_REMOVE:()=>T,default:()=>D});var t=i(62540),a=i(63696),l=i(85022),s=i(62688),n=i.n(s),r=i(84178),o=i(4452),c=i.n(o),u=i(1969),m=i(22304),C=i(49172),f=i(48817),h=i(79683),b=i.n(h),p=i(84923),I=i.n(p),_=i(95641),g=i.n(_),x=i(43331),k=i(92390),v=i(1561),A=i(97100),y=i(83325),E=i(29022),R=i(51913),j=i(64375),N=i(94943),O=i(82517),M=i(53078),L=i.n(M);let w=e=>{let{colors:d}=e;return(0,f.css)`
  .${L().cta} {
    color: ${d.secondary};

    &:hover {
      color: ${d.secondary};
      border-color: ${d.secondary};
    }
  }
`},Q="add",T="remove",W="view_modal",q=e=>{let{id:d,name:i,available:s,maxSelection:n=null,selectedQuantity:r=0,trackingId:o,isEnabled:h,handleClickFallback:p,fullWidth:_=!1,compact:v=!1,source:M,isRecommendedCarouselCard:q=!1,isItemDetailsRecommendedCarouselCard:D=!1,recommendedItemIndex:S,trackingProperties:K,adServeId:U,isVariableMeasurementItem:z}=e,{hasFetched:H,isLoading:F,handleAddItemToBasket:$,handleUpdateItemInBasket:B,getBasketItemsById:P,isBasketInteractionsDisabled:V}=(0,A.A)(),{served_upsell_tracking_id:X}=(0,l.d4)(k.Uu),Y=(0,N.j)(),{isGuestGroupOrderMerged:G}=(0,y.A)(),[J,Z]=(0,a.useState)(null),{menuDisabled:ee}=(0,l.d4)(k.W8),ed=(0,l.d4)(P(d)),ei=ed[ed.length-1],et=(0,l.d4)((0,O.KY)(d)),ea=n===r,el=F&&J===Q,es=F&&J===T,en=!H||ee||0===n||G||!s||F||V||0===et,er=!H||ee||G||F||V,eo=(0,l.d4)((0,k.yd)(d)),ec=(e,t)=>async()=>{try{Z(t),await e();let a=t===Q&&ea,l={...D&&eo};if(Y((0,x.Pz)(o,d,t,M,q,S,X,a,l,K)),D){Y((0,E.It)(d));let e=R.A.gettext("partner_menu_page.details_modal.recommended_items.add_confirmation(%(itemName)s)",{itemName:i});Y((0,E.K1)(e,!0,3e3,"success",j.f.ICON_CHECK_CIRCLE))}}catch(e){}},eu=e=>()=>{e(),Y((0,x.Pz)(o,d,W,M,q,S,X,!1,K))};return(0,a.useEffect)(()=>{F||Z(null)},[F]),(0,t.jsx)(f.default,{set:w,children:(0,t.jsxs)("div",{className:c()({[L().ctas]:!ei,[L().smallCtas]:!!ei,[L().fullWidth]:_,[L().isRecommendedCarouselCard]:q}),children:[(0,t.jsx)(u.default,{onClick:()=>{(h?ec($(d,1,{},!1,!1,!0,void 0,void 0,U),Q):eu(p))()},isDisabled:en,ariaLabel:ei?"small-plus":"large-plus",isBlock:_,shouldInvertKeyboardFocusOutline:!0,children:(0,t.jsx)("div",{className:c()(L().cta,{[L().fullWidth]:_,[L().hasSelectedQuantity]:!!ei,[L().compact]:v}),children:el?(0,t.jsx)(m.default,{size:18}):(0,t.jsx)(C.default,{component:I(),size:18,color:en?"light-grey":void 0,colorToken:en?"foreground-neutral-subtle-on-elevation-base":void 0})})}),ei&&(0,t.jsx)(u.default,{onClick:()=>{ec(B(ei.id,ei.decrementActionUrl,!1,d,ei.legacyId,U),T)()},isDisabled:er,ariaLabel:"small-minus",adjacentVerticalSpacing:_?void 0:v?"x-small":"medium",isBlock:_,shouldInvertKeyboardFocusOutline:!0,children:(0,t.jsx)("div",{className:c()(L().cta,L().hasSelectedQuantity,{[L().fullWidth]:_}),children:es?(0,t.jsx)(m.default,{size:18}):(0,t.jsx)(C.default,{component:1===r||!0===z?g():b(),size:18,color:er?"light-grey":void 0,colorToken:er?"foreground-neutral-subtle-on-elevation-base":void 0})})})]})})};q.propTypes={id:n().string.isRequired,name:n().string.isRequired,available:n().bool.isRequired,maxSelection:n().number,selectedQuantity:n().number,trackingId:n().string.isRequired,isEnabled:n().bool.isRequired,handleClickFallback:(0,r.default)(n().func,e=>{let{isEnabled:d}=e;return!d}),fullWidth:n().bool,compact:n().bool,isRecommendedCarouselCard:n().bool,isItemDetailsRecommendedCarouselCard:n().bool,recommendedItemIndex:n().number,source:n().oneOf([v.mU.MENU,v.mU.MENU_ITEM_DETAILS,v.mU.SEARCH,v.mU.RECOMMENDATIONS]).isRequired,trackingProperties:n().shape({ad:n().shape({ad_type:n().string.isRequired,id:n().string.isRequired,serve_id:n().string.isRequired,beacons:n().shape({on_load:n().arrayOf(n().string),on_view:n().arrayOf(n().string),on_click:n().arrayOf(n().string)}),placement:n().string.isRequired})}),adServeId:n().string,isVariableMeasurementItem:n().bool};let D=q},64375:(e,d,i)=>{"use strict";i.d(d,{A:()=>h,f:()=>f});var t=i(62540),a=i(49172),l=i(73044),s=i(95571),n=i(14037),r=i(52786),o=i.n(r),c=i(85022),u=i(29022),m=i(92390),C=i(94943),f=function(e){return e.ICON_CHECK_CIRCLE="ICON_CHECK_CIRCLE",e}({});function h(){let e=(0,C.j)(),{message:d,isOpen:i,timeout:r,type:f,icon:h}=(0,c.d4)(m.a1),b=(0,t.jsx)(n.default,{children:d});return"ICON_CHECK_CIRCLE"===h&&(b=(0,t.jsx)(s.default,{left:(0,t.jsx)(a.default,{component:o(),color:"white"}),children:(0,t.jsx)(n.default,{children:d})})),(0,t.jsx)(l.A,{isOpen:i,onClose:()=>{e((0,u.Tg)())},timeout:r,direction:"bottom",type:f,children:b})}},53078:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",ctas:"MenuItemCardQuickAdd-64027143206b1515",fullWidth:"MenuItemCardQuickAdd-db2557b352f62d55",smallCtas:"MenuItemCardQuickAdd-06c7f33c6af053c5",isRecommendedCarouselCard:"MenuItemCardQuickAdd-05ad8ea154ca8993",cta:"MenuItemCardQuickAdd-3e7faab588d5f608",hasSelectedQuantity:"MenuItemCardQuickAdd-b0ab0f29221523c9",compact:"MenuItemCardQuickAdd-abefe99bcdbda8db"}}}]);
//# sourceMappingURL=619.8c1f72f796ff52e0.js.map