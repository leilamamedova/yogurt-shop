(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3308,5408,6502],{55884:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/menu/[city]/[neighborhood]/[restaurant]",function(){return a(50720)}])},27544:(e,t,a)=>{"use strict";a.d(t,{J_:()=>i,KB:()=>r,SF:()=>n});var s=a(84750);function i(e,t){return{type:s.pF,payload:{name:"Viewed UITooltip",properties:{tracking_id:e,source:t}}}}function r(e){let{displayId:t,trackingId:a}=e;return{type:s.pF,payload:{name:"Closed Roo Block Modal",properties:{modal_type:t,modal_id:a}}}}function n(e){let{displayId:t,trackingId:a}=e;return{type:s.pF,payload:{name:"Viewed Roo Block Modal",properties:{modal_type:t,modal_id:a}}}}},13993:(e,t,a)=>{"use strict";a.d(t,{S:()=>i});var s=a(84750);let i=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=>{e&&e/1e3>60||i({type:s.pF,payload:{name:`Time To Interactive - ${t}`,properties:{...a,time_to_interactive:e}}})}}},90543:(e,t,a)=>{"use strict";a.d(t,{A:()=>R});var s=a(62540),i=a(63696),r=a(75749),n=a(40687),l=a(1969),o=a(12803),d=a.n(o),c=a(85022),u=a(49172),p=a(58882),m=a(69487),h=a(57325),g=a(75030),x=a(14116),f=a(31827),b=a(94943),k=a(64789),j=a(8324);let v=e=>{let{addressId:t,userId:a,editPage:s,onSuccess:i}=e;return e=>{e((0,g.Tm)(s)),e((0,g.ST)(!1,x.su.EDIT)),e((0,g.rJ)(t)),e((0,f.YY)({userId:a,addressId:t,onSuccess:()=>{e((0,g.kf)(a,a=>{let s=a.payload?.orders?.length>0;e((0,j.PF)({source:x.h3.NUDGES,addressId:t,isActiveOrders:s}))})),i&&i()}})),e((0,k.V7)())}},y=()=>{let e=(0,b.j)(),t=(0,c.d4)(h.F6);return a=>{let{action:s,addressId:i,onSuccess:r}=a;if(!i||!t)return null;switch(s){case x.y0.EDIT_ADDRESS:e(v({addressId:i,userId:t,editPage:x.Yh.MAIN,onSuccess:r}));break;case x.y0.EDIT_ADDRESS_DETAILS:e(v({addressId:i,userId:t,editPage:x.Yh.ADDRESS_DETAILS,onSuccess:r}));break;case x.y0.EDIT_ADDRESS_LABEL:e(v({addressId:i,userId:t,editPage:x.Yh.LABEL,onSuccess:r}));break;case x.y0.EDIT_DELIVERY_NOTE:e(v({addressId:i,userId:t,editPage:x.Yh.DELIVERY_NOTES,onSuccess:r}));break;case x.y0.EDIT_PHONE_NUMBER:e(v({addressId:i,userId:t,editPage:x.Yh.PHONE,onSuccess:r}));break;case x.y0.EDIT_PIN_POSITION:e(v({addressId:i,userId:t,editPage:x.Yh.ADDRESS_MAP,onSuccess:r}))}return null}};var _=a(67745),S=a(65854),w=a(85202),A=a(51913),C=a(35522),T=a.n(C);let R=e=>{let{children:t,overrides:a}=e,o=y(),h=(0,b.j)(),[g,f]=(0,i.useState)(!1),v=(0,c.d4)(e=>(0,S.L4)(e,w.OJ_ADDRESS_NUDGES_CLIENT));(0,i.useEffect)(()=>{v&&h((0,k.MD)())},[]);let C=(0,c.d4)(_.Wi),R=(0,c.d4)(_.ZU);if((0,i.useEffect)(()=>{C?.trackingProperties&&h((0,j.un)({action:x.Jj.VIEWED,trackingProperties:C.trackingProperties,addressId:R}))},[h,C,R]),!C)return(0,s.jsx)(s.Fragment,{children:t});let{callToAction:B}=C,I=B?.component.type.toLowerCase(),M=()=>{h((0,j.un)({action:x.Jj.DISMISSED,trackingProperties:C.trackingProperties,addressId:R}))};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(m.A,{renderContent:e=>(0,s.jsxs)("div",{className:T().popoverInner,children:[(0,s.jsx)("div",{className:T().popoverClose,children:(0,s.jsx)(l.default,{spacing:"small small 0 0",onClick:()=>{e(),M()},ariaLabel:A.A.gettext("Close"),children:(0,s.jsx)(u.default,{component:d(),color:"white",size:18})})}),(0,s.jsx)(n.default,{spacing:"medium",color:"white",children:C.text}),B?(0,s.jsx)(r.default,{isBlock:!0,spacing:"0 twelve medium twelve",isLoading:g,onClick:()=>{f(!0),h((0,j.un)({action:x.Jj.SELECTED,trackingProperties:C.trackingProperties,addressId:R})),o({action:B.action,addressId:R,onSuccess:()=>{f(!1),e()}})},type:I,children:B.component.text}):null]}),renderTrigger:e=>(0,s.jsx)(p.A,{condition:!a?.withoutTrigger,wrapper:t=>(0,s.jsx)(l.default,{onClick:e,outlineRadius:"circle",children:t}),children:(0,s.jsx)(s.Fragment,{children:t})}),shouldDismissOnWindowClick:!1,onPopoverClose:M,align:a?.align||"right",rightOffset:a?.rightOffset!==void 0?a.rightOffset:-40,defaultOpen:!0,theme:"dark",position:a?.position})})}},82795:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var s=a(62540),i=a(1969),r=a(49172),n=a(31567),l=a.n(n),o=a(26222),d=a(94943),c=a(51913),u=a(3407),p=a.n(u);let m=e=>{let{source:t}=e,a=(0,d.j)();return(0,s.jsx)(i.default,{onClick:()=>a((0,o.Rf)(t)),ariaLabel:c.A.gettext("favourites_list.collection.title"),shouldInvertKeyboardFocusOutline:!0,children:(0,s.jsx)("span",{className:p().wrapper,children:(0,s.jsx)(r.default,{component:l(),color:"primary-action",colorToken:"foreground-action-normal-on-elevation-base",size:18})})})}},26783:(e,t,a)=>{"use strict";a.d(t,{A:()=>f});var s=a(62540),i=a(63696),r=a(62688),n=a.n(r),l=a(90667),o=a.n(l),d=a(49172),c=a(40687),u=a(1969),p=a(51913),m=a(69487),h=a(52047),g=a.n(h);let x=e=>{let{children:t,message:a,onPopoverOpen:r}=e,[n,l]=(0,i.useState)(!1),h=e=>()=>{l(!n),e()};return(0,i.useEffect)(()=>{n&&r?.()},[n]),(0,s.jsxs)("div",{className:g().wrapper,children:[!!a&&(0,s.jsx)(m.A,{position:"top",align:"right",rightOffset:-36,renderTrigger:e=>(0,s.jsx)(u.default,{onClick:h(e),ariaLabel:p.A.gettext("partner_menu_page.basket.service_fee_info.view"),spacing:"0 small 0 0",outlineRadius:"circle",children:(0,s.jsx)(d.default,{component:o(),color:"light-grey",colorToken:"foreground-neutral-subtle-on-elevation-base",size:18})}),renderContent:()=>(0,s.jsx)("div",{className:g().popover,children:(0,s.jsx)(c.default,{spacing:"medium",colorToken:"foreground-neutral-intense-on-elevation-base",children:a})}),onPopoverClose:()=>l(!1)}),t]})};x.propTypes={children:n().node.isRequired,message:n().string,onPopoverOpen:n().func};let f=x},64375:(e,t,a)=>{"use strict";a.d(t,{A:()=>g,f:()=>h});var s=a(62540),i=a(49172),r=a(73044),n=a(95571),l=a(14037),o=a(52786),d=a.n(o),c=a(85022),u=a(29022),p=a(92390),m=a(94943),h=function(e){return e.ICON_CHECK_CIRCLE="ICON_CHECK_CIRCLE",e}({});function g(){let e=(0,m.j)(),{message:t,isOpen:a,timeout:o,type:h,icon:g}=(0,c.d4)(p.a1),x=(0,s.jsx)(l.default,{children:t});return"ICON_CHECK_CIRCLE"===g&&(x=(0,s.jsx)(n.default,{left:(0,s.jsx)(i.default,{component:d(),color:"white"}),children:(0,s.jsx)(l.default,{children:t})})),(0,s.jsx)(r.A,{isOpen:a,onClose:()=>{e((0,u.Tg)())},timeout:o,direction:"bottom",type:h,children:x})}},19986:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(63696),i=a(20206),r=a(45819),n=a(33678);let l=()=>{let e=(0,r.M)(),t=(0,n.A)();return(0,s.useCallback)(a=>{if(t(a)&&e)return e({type:i.Zk,payload:{source:a}})},[e])}},98234:(e,t,a)=>{"use strict";a.d(t,{V:()=>r});var s=a(63696),i=a(37050);function r(e){let[t,a]=(0,s.useState)(()=>e(i.W.getState()));return(0,s.useEffect)(()=>i.W.subscribe(()=>{a(e(i.W.getState()))}),[e]),t}},89658:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(63696);let i=e=>{let{afterPageIsHidden:t,resetScrollTrackingImpressions:a,setScrollTrackingImpressionsToLocalStorage:i}=e,[r,n]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let e=!1,s=()=>{if(e)return;let{visibilityState:s}=document;"hidden"===s?t():"visible"===s&&a()},n="visibilitychange";document.addEventListener(n,s);let l="onpagehide"in self?"pagehide":"unload",o=()=>{e=!0,r&&i()};return window.addEventListener(l,o),()=>{document.removeEventListener(n,s),window.removeEventListener(l,o)}},[a,i,t,r]),{setScrolledTrackingViewedItemsCount:n}}},62384:(e,t,a)=>{"use strict";a.d(t,{J:()=>f});var s=a(62540),i=a(63696),r=a(56749),n=a.n(r),l=a(4452),o=a.n(l),d=a(83934),c=a(94943),u=a(23925),p=a(51913),m=a(81681),h=a(26208),g=a.n(h);let x=n()(Promise.all([a.e(6190),a.e(2665),a.e(4874),a.e(5073)]).then(a.bind(a,25073)),{loadableGenerated:{webpack:()=>[25073]},ssr:!1}),f=e=>{let{appElement:t="#__next"}=e,{isOpen:a,setModalOpen:r,customProps:n}=(0,m.k3)(),[l,h]=(0,i.useState)(void 0),f=(0,c.j)(),b=()=>{f((0,u.AM)(n.pageSource)),r(!1)};return((0,i.useEffect)(()=>{a&&h(window.scrollY)},[a]),(0,i.useEffect)(()=>{void 0!==l&&(a?(document.documentElement.classList.add(g().modalOpen),document.getElementById("__next")?.classList.add(g().hideRoot),document.body.style.top=`${l}px`):(document.documentElement.classList.remove(g().modalOpen),document.getElementById("__next")?.classList.remove(g().hideRoot),document.body.style.top="",window.scrollTo(0,l)))},[a,l]),a)?(0,s.jsx)(d.default,{isOpen:!0,appElement:t,headerTitle:"UIStoryModal","data-testId":"story-modal",type:"fullscreen",onClose:b,closeButtonLabel:p.A.gettext("closeButton.label"),children:()=>(0,s.jsx)("div",{className:o()(g().modalBackground,g().noSelect),children:(0,s.jsx)(x,{customProps:n,onClose:b})})}):null}},45216:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var s=a(62540);a(63696);var i=a(62688),r=a.n(i),n=a(96126),l=a(40687),o=a(88630),d=a(87870),c=a.n(d),u=a(5638),p=a.n(u);let m={"deliveroo-challenges":c(),"warning-circle-fill":p()};function h(e){let{isPlaceholder:t,spacing:a,adjacentVerticalSpacing:i,adjacentHorizontalSpacing:r,headingText:o=t?"placeholder":void 0,body:d=t?"placeholder":void 0,icon:c=""}=e,u=m[c]??void 0,p=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.default,{isBold:!0,colorToken:"static-white",children:o}),(0,s.jsx)(l.default,{spacing:"x-small 0 0",size:"small",colorToken:"static-white",children:(0,s.jsx)("span",{style:{whiteSpace:"pre-line"},children:d})})]});return(0,s.jsx)(n.Ay,{isPlaceholder:t,spacing:a,adjacentVerticalSpacing:i,adjacentHorizontalSpacing:r,title:t?"":void 0,theme:"kelp-gradient",isCompact:!0,icon:u,iconSize:18,iconColorToken:"static-white",body:p})}h.propTypes={headingText:r().string,body:r().string,icon:r().string,...o.default.propTypes}},59174:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var s=a(62540);a(63696);var i=a(62688),r=a.n(i),n=a(49172),l=a(14037),o=a(88630),d=a(87870),c=a.n(d),u=a(5638),p=a.n(u),m=a(14424),h=a.n(m);let g={"deliveroo-challenges":c(),"warning-circle-fill":p()};function x(e){let{spacing:t,adjacentVerticalSpacing:a,adjacentHorizontalSpacing:i,icon:r="deliveroo-challenges",label:d}=e,c=g[r]??void 0;return(0,s.jsxs)(o.default,{className:h().wrapper,spacing:t,adjacentVerticalSpacing:a,adjacentHorizontalSpacing:i,children:[(0,s.jsx)(n.default,{size:18,component:c,color:"kelp",colorToken:"foreground-accent-normal-on-elevation-base"}),(0,s.jsx)(l.default,{color:"grey",colorToken:"foreground-neutral-normal-on-elevation-base",adjacentHorizontalSpacing:"x-small",size:"small",children:d})]})}x.propTypes={icon:r().string,label:r().string,...o.default.propTypes}},15586:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(62540),i=a(62688),r=a.n(i),n=a(75749),l=a(66959),o=a.n(l);function d(e){let{actions:t}=e;return(0,s.jsx)("div",{className:o().actions,children:t.map((e,t)=>{let{title:a,level:i,href:r,onClick:l,icon:o,id:d,isDisabled:c}=e;return(0,s.jsx)(n.default,{type:i,href:r,onClick:l,icon:o,spacing:t>0?"small 0 0 0":void 0,isDisabled:c,isBlock:!0,children:a},d)})})}d.propTypes={actions:r().arrayOf(r().shape({id:r().string.isRequired,level:r().oneOf(["primary","secondary"]).isRequired,href:r().string,onClick:r().func,title:r().string.isRequired,icon:r().elementType,isDisabled:r().bool})).isRequired}},67661:(e,t,a)=>{"use strict";a.d(t,{A:()=>b});var s=a(62540),i=a(63696),r=a(83732),n=a.n(r),l=a(62688),o=a.n(l),d=a(7655),c=a.n(d),u=a(71681),p=a(49172),m=a(40687),h=a(27202),g=a(15586),x=a(78215),f=a.n(x);class b extends i.Component{componentDidMount(){n().setAppElement(this.props.appElement)}render(){let{isDisplayed:e,dismissModalHandler:t,success:a,title:i,body:r,actions:l}=this.props;return(0,s.jsxs)(n(),{isOpen:e,onRequestClose:t,className:{base:f().modal,afterOpen:f().modalAfterOpen,beforeClose:f().modalBeforeClose},overlayClassName:{base:f().modalOverlay,afterOpen:f().modalOverlayAfterOpen,beforeClose:f().modalOverlayBeforeClose},children:[a&&(0,s.jsx)(h.default,{type:"confetti",isLooping:!1,particleDensity:20,gravity:2,fadeThreshold:.5}),(0,s.jsxs)("div",{className:f().statusContent,children:[a&&(0,s.jsx)("div",{className:f().icon,children:(0,s.jsx)(p.default,{component:c()})}),(0,s.jsx)(u.default,{level:3,size:"x-small",colorToken:"foreground-neutral-intense-on-elevation-base",children:i}),(0,s.jsx)(m.default,{color:"grey",colorToken:"foreground-neutral-normal-on-elevation-base",children:r}),(0,s.jsx)(g.A,{actions:l})]})]})}}b.propTypes={isDisplayed:o().bool.isRequired,dismissModalHandler:o().func.isRequired,success:o().bool.isRequired,title:o().string.isRequired,body:o().string,actions:o().arrayOf(o().shape({id:o().string.isRequired,level:o().oneOf(["primary","secondary"]).isRequired,href:o().string,onClick:o().func,title:o().string.isRequired,icon:o().elementType,isDisabled:o().bool})).isRequired,appElement:o().string.isRequired},b.defaultProps={body:void 0}},68325:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var s=a(62540),i=a(75749),r=a(71681),n=a(26938),l=a(83934),o=a(40687),d=a(32545),c=a(51913),u=a(14137),p=a.n(u);let m=e=>{let{appElement:t="#__next",isFeesModalOpen:a,closeModal:u,modal:m,trackFaqClick:h}=e;return(0,s.jsxs)(l.default,{appElement:t,type:"bottomSheet",isOpen:a,onClose:u,closeButtonLabel:c.A.gettext("partner_menu_page.basket.fees_education_modal.close"),renderFooter:()=>(0,s.jsx)("div",{className:p().basketFeesModalButtonWrapper,children:[...m.links].reverse().map(e=>(0,s.jsx)(i.default,{adjacentHorizontalSpacing:{mobile:0,tablet:"large"},adjacentVerticalSpacing:{mobile:"small",tablet:0},href:"open_faq"===e.action?e.url:"",newWindow:"open_faq"===e.action,isBlock:!0,onClick:"close"===e.action?u:h(e.tracking_event),size:"medium",type:e.type,children:e.text},e.text))}),children:[(0,s.jsx)(r.default,{adjacentVerticalSpacing:"medium",level:3,colorToken:"foreground-neutral-intense-on-elevation-base",children:m.title}),m.content.map(e=>(0,s.jsxs)(d.default,{spacing:"large 0 0",className:p().basketFeesIllustrationWrapper,children:[(0,s.jsx)(n.default,{name:e.illustration_id,size:88}),(0,s.jsxs)(d.default,{spacing:"0 0 0 medium",children:[(0,s.jsx)(r.default,{adjacentVerticalSpacing:"medium",level:4,colorToken:"foreground-neutral-intense-on-elevation-base",children:e.title}),(0,s.jsx)(o.default,{spacing:"small 0 0",colorToken:"foreground-neutral-intense-on-elevation-base",children:e.description})]})]},e.type))]})}},23216:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var s=a(62540),i=a(63696),r=a(62688),n=a.n(r),l=a(93180),o=a(14037),d=a(35010);let c=e=>{let{inputName:t,selectedMethod:a,availableMethods:r,showFulfillmentSwitchControl:n,onChange:d=()=>{}}=e,[c,u]=(0,i.useState)(a);if((0,i.useEffect)(()=>{u(a)},[a]),!n)return null;let p=(e,t)=>(u(t),d({fulfillmentMethod:c,nextFulfillmentMethod:t}));return(0,s.jsx)("ul",{children:r.map(e=>{let{label:a,targetMethod:i}=e;return(0,s.jsx)("li",{children:(0,s.jsx)(l.Ay,{isBlock:!0,name:t,label:(0,s.jsx)(o.default,{size:"small",colorToken:"foreground-neutral-intense-on-elevation-base",children:a}),value:i,isChecked:i===c,onChange:p,spacing:"small"})},i)})})};c.propTypes={inputName:n().string.isRequired,selectedMethod:d.a.isRequired,availableMethods:d.H.isRequired,showFulfillmentSwitchControl:n().bool.isRequired,onChange:n().func};let u=c},35010:(e,t,a)=>{"use strict";a.d(t,{H:()=>l,a:()=>n});var s=a(62688),i=a.n(s),r=a(41784);let n=i().oneOf(r.Mf),l=i().arrayOf(i().shape({label:i().string.isRequired,targetMethod:n.isRequired}))},52350:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var s=a(62540),i=a(63696),r=a(62688),n=a.n(r),l=a(86514),o=a(35010);let d=e=>{let{selectedMethod:t,availableMethods:a,showFulfillmentSwitchControl:r,onChange:n=()=>{}}=e,[o,d]=(0,i.useState)(t);return((0,i.useEffect)(()=>{d(t)},[t]),r)?(0,s.jsx)(i.Fragment,{children:a.map(e=>{let{label:t,targetMethod:a}=e;return(0,s.jsx)(l.default,{isSelected:o===a,onClick:()=>{a!==o&&(d(a),n({fulfillmentMethod:o,nextFulfillmentMethod:a}))},children:t},a)})}):null};d.propTypes={selectedMethod:o.a.isRequired,availableMethods:o.H.isRequired,showFulfillmentSwitchControl:n().bool.isRequired,onChange:n().func};let c=d},2668:(e,t,a)=>{"use strict";a.d(t,{A:()=>R});var s=a(62540),i=a(63696),r=a(62688),n=a.n(r),l=a(88077),o=a.n(l),d=a(1316),c=a.n(d),u=a(75749),p=a(83934),m=a(93180),h=a(49172),g=a(95571),x=a(87417),f=a(14037),b=a(51913),k=a(15042),j=a(41784),v=a(42508),y=a(40686),_=a.n(y);let S="FULFILLMENT_TYPE_ASAP",w="FULFILLMENT_TYPE_LATER";class A extends i.Component{constructor(e){super(e),this.getInitialState=()=>{let{fulfillmentDay:e,fulfillmentTime:t}=this.props;return{typeOption:t===j.L3?S:w,dayOption:e,timeOption:t}},this.onChangeType=e=>{let{fulfillmentTimeOptionsMap:t}=this.props,{dayOption:a}=this.state,s=e===S?j.L3:t[a][0].value;this.setState({typeOption:e,timeOption:s})},this.onChangeDay=e=>{let{fulfillmentTimeOptionsMap:t}=this.props,a=t[e][0].value;this.setState({dayOption:e,timeOption:a})},this.onChangeTime=e=>this.setState({timeOption:e}),this.submitFulfillmentTimeChange=(e,t)=>{e?this.props.requestFulfillmentTimes():t||this.props.onClose();let a=this.props.fulfillmentTimeOptionsMap[this.state.dayOption],s=this.state.timeOption!==j.L3?a.find(e=>{let{value:t}=e;return t===this.state.timeOption}):{selectedTimeParams:{day:this.state.dayOption?.toLowerCase(),time:this.state.timeOption}};t&&this.props.onFulfillmentTimeChange(this.state.timeOption,s),this.props.onConfirm()},this.state=this.getInitialState()}componentDidMount(){this.props.onOpen()}render(){let{appElement:e,fulfillmentTime:t,fulfillmentDayOptions:a,fulfillmentTimeOptionsMap:r,isAsapUnavailable:n,withClickAndCollect:l,onClose:d,onBack:y}=this.props,{typeOption:A,dayOption:C,timeOption:T}=this.state,R=r[C],B=(a||[]).filter(e=>r[e.value]&&r[e.value].length>0),I=(0,k.A)(()=>B.find(e=>{let{value:t}=e;return t===C}).label,null),M=T!==j.L3?(0,k.A)(()=>R.find(e=>{let{value:t}=e;return t===T})?.label,""):"",E=T!==t,O=!a||!R||0===a.length||0===R.length;return(0,s.jsx)(p.default,{isOpen:!0,appElement:e,type:"fullscreen",onClose:d,onBack:y,closeButtonLabel:b.A.gettext("closeButton.label"),headerTitle:l?b.A.gettext("restaurant_list.time_picker.modalTitle"):b.A.gettext("restaurant_list.time_picker.modal.title"),renderFooter:()=>(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)("div",{className:_().cancelButtonWrapper,children:(0,s.jsx)(u.default,{type:"secondary",isBlock:!0,spacing:"0 medium 0 0",onClick:d,children:b.A.gettext("restaurant_list.modal.cancel")})}),(0,s.jsx)("div",{className:_().confirmButtonWrapper,children:(0,s.jsx)(u.default,{type:"primary",isBlock:!0,onClick:()=>this.submitFulfillmentTimeChange(O,E),children:O?b.A.gettext("home.date_modal.error.btn"):b.A.gettext("restaurant_list.modal.confirm")})})]}),children:(0,s.jsxs)("div",{id:"date-time-modal",children:[O&&(0,s.jsx)(v.A,{heading:b.A.gettext("home.date_modal.error.heading"),message:b.A.gettext("home.date_modal.error.message")}),!O&&(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(m.Ay,{isBlock:!0,hasLabelBefore:!0,name:"fulfillment-type",value:S,isChecked:!n&&A===S,isDisabled:n,onChange:(e,t)=>this.onChangeType(t),label:(0,s.jsx)("div",{className:_().radioLabel,children:(0,s.jsx)(g.default,{left:(0,s.jsx)(h.default,{component:c(),color:n?"light-grey":"grey",colorToken:n?"foreground-neutral-light-on-elevation-base":"foreground-neutral-normal-on-elevation-base"}),children:(0,s.jsx)(f.default,{color:n?"light-grey":void 0,colorToken:n?"foreground-neutral-light-on-elevation-base":"foreground-neutral-normal-on-elevation-base",children:b.A.gettext("restaurant_list.time_picker.deliver_now")})})}),spacing:"small 0"}),(0,s.jsx)("div",{className:_().typeSeparator}),(0,s.jsx)(m.Ay,{isBlock:!0,hasLabelBefore:!0,name:"fulfillment-type",value:w,isChecked:A===w,onChange:(e,t)=>this.onChangeType(t),label:(0,s.jsx)("div",{className:_().radioLabel,children:(0,s.jsx)(g.default,{left:(0,s.jsx)(h.default,{component:o(),color:"grey",colorToken:"foreground-neutral-normal-on-elevation-base"}),children:b.A.gettext("restaurant_list.time_picker.schedule")})}),spacing:"small 0"}),A===w&&(0,s.jsxs)("div",{className:_().stackableRow,children:[B.length>0&&(0,s.jsx)("div",{className:_().stackableCell,children:(0,s.jsx)(x.default,{isBlock:!0,value:C,selectedOptionText:I,onChange:this.onChangeDay,spacing:"medium 0 0 small",children:B.map(e=>{let{label:t,value:a}=e;return(0,s.jsx)("option",{value:a,children:t},a)})})}),R.length>0&&(0,s.jsx)("div",{className:_().stackableCell,children:(0,s.jsx)(x.default,{isBlock:!0,value:T,selectedOptionText:M,onChange:this.onChangeTime,spacing:"medium 0 0 small",children:R.map(e=>{let{label:t,value:a}=e;return(0,s.jsx)("option",{value:a,children:t},a)})})})]})]})]})})}}let C=n().shape({label:n().string.isRequired,value:n().string.isRequired}),T=n().arrayOf(C);A.propTypes={appElement:n().string,fulfillmentDay:n().string.isRequired,fulfillmentTime:n().string.isRequired,fulfillmentDayOptions:T.isRequired,fulfillmentTimeOptionsMap:n().objectOf(T).isRequired,isAsapUnavailable:n().bool.isRequired,requestFulfillmentTimes:n().func.isRequired,onFulfillmentTimeChange:n().func.isRequired,onOpen:n().func.isRequired,onClose:n().func.isRequired,onConfirm:n().func.isRequired,onBack:n().func,withClickAndCollect:n().bool},A.defaultProps={appElement:"#__next",withClickAndCollect:!1,onBack:void 0};let R=A},3149:(e,t,a)=>{"use strict";a.d(t,{A:()=>B});var s=a(62540),i=a(63696),r=a(62688),n=a.n(r),l=a(4452),o=a.n(l),d=a(88077),c=a.n(d),u=a(120),p=a.n(u),m=a(75749),h=a(83934),g=a(32545),x=a(14037),f=a(51913),b=a(23216),k=a(52350),j=a(35010),v=a(49172),y=a(1969),_=a(33147),S=a.n(_);let w=e=>{let{icon:t,contentLines:a,isDisabled:i=!1,onClick:r}=e;return(0,s.jsx)(y.default,{isBlock:!0,isDisabled:i,onClick:r,children:(0,s.jsxs)("div",{className:S().wrapper,children:[(0,s.jsx)(v.default,{component:t,color:"light-grey",colorToken:"foreground-neutral-subtle-on-elevation-base",spacing:"0 medium 0 0"}),(0,s.jsx)("div",{className:S().flexContent,children:a.map(e=>{let{text:t,color:a,colorToken:i}=e;return(0,s.jsx)(x.default,{isBlock:!0,color:a,colorToken:i,children:t},t)})}),!i&&(0,s.jsx)(x.default,{color:"primary-action",colorToken:"foreground-action-normal-on-elevation-base",spacing:"0 0 0 medium",children:f.A.gettext("Change")})]})})};w.propTypes={icon:n().elementType.isRequired,contentLines:n().arrayOf(n().shape({text:n().string.isRequired,color:n().string.isRequired})).isRequired,isDisabled:n().bool,onClick:n().func.isRequired};var A=a(42155),C=a.n(A);let T="modal-header-title";class R extends i.Component{get isDeliverable(){return!!this.props.dateTimeLabel}componentDidMount(){this.props.trackViewedLogisticsControl()}renderHeader(){let{withClickAndCollect:e}=this.props,t=e?f.A.gettext("home.logistics_modal.where_and_when"):f.A.gettext("Delivery address"),a=f.A.gettext("logistics_modal.where");return(0,s.jsx)("div",{className:o()({[C().titleWrapper]:e}),id:T,children:(0,s.jsx)(x.default,{isBlock:!0,isBold:!0,spacing:"0 0 medium 0",colorToken:"foreground-neutral-intense-on-elevation-base",children:this.isDeliverable?t:a})})}render(){let{city:e,dateTimeLabel:t,onClose:a,neighborhood:i,postcode:r,showFulfillmentSwitchControl:n,showLocationSearchModal:l,toggleDateTimeModal:o,isChangeTimeAllowed:d,withClickAndCollect:u,fulfillmentMethod:m,availableMethods:j,selectedAddress:v}=this.props,y=v?.label?v.label:[i,r].filter(Boolean).join(", "),_=[];return _=y||e?[{text:y,color:"black",colorToken:"foreground-neutral-intense-on-elevation-base"},{text:e,color:"black",colorToken:"foreground-neutral-intense-on-elevation-base"}]:[{text:f.A.gettext("No location selected"),color:"red",colorToken:"foreground-critical-normal-on-elevation-base"}],(0,s.jsxs)(h.default,{isOpen:!0,id:"logistics-modal",appElement:"#__next",type:"bottomSheet",onClose:a,closeButtonLabel:f.A.gettext("closeButton.label"),aria:{labelledby:T},renderFooter:this.renderFooter,children:[this.renderHeader(),u&&n&&(0,s.jsxs)(g.default,{spacing:"small 0 x-large 0",children:[(0,s.jsx)("div",{className:C().desktopWrapper,children:(0,s.jsx)(b.A,{inputName:"logistics-modal__fulfillment-method",selectedMethod:m,availableMethods:j,showFulfillmentSwitchControl:!0,onChange:e=>{let{nextFulfillmentMethod:t}=e;this.nextFulfillmentMethod=t}})}),(0,s.jsx)("div",{className:C().mobileWrapper,children:(0,s.jsx)(k.A,{inputName:"logistics-modal__fulfillment-method",selectedMethod:m,availableMethods:j,showFulfillmentSwitchControl:!0,onChange:e=>{let{nextFulfillmentMethod:t}=e;this.nextFulfillmentMethod=t}})})]}),(0,s.jsx)(w,{icon:p(),contentLines:_,onClick:()=>l()}),!u&&(0,s.jsx)(x.default,{isBlock:!0,isBold:!0,spacing:"x-large 0 medium 0",colorToken:"foreground-neutral-intense-on-elevation-base",children:f.A.gettext("restaurant_list.time_picker.modal.title")}),this.isDeliverable&&(0,s.jsx)(g.default,{spacing:u?"large 0":"",children:(0,s.jsx)(w,{icon:c(),contentLines:[{text:t,color:"black",colorToken:"foreground-neutral-intense-on-elevation-base"}],isDisabled:!d,onClick:()=>o(!0)})})]})}constructor(...e){super(...e),this.nextFulfillmentMethod=this.props.fulfillmentMethod,this.onConfirmClick=()=>{let{fulfillmentMethod:e,onClose:t,onFulfillmentMethodChange:a}=this.props,{nextFulfillmentMethod:s}=this;s!==e&&a({fulfillmentMethod:e,nextFulfillmentMethod:s}),t()},this.renderFooter=()=>(0,s.jsx)(m.default,{isBlock:!0,onClick:this.onConfirmClick,children:f.A.gettext("Confirm")})}}R.propTypes={city:n().string.isRequired,dateTimeLabel:n().string,fulfillmentMethod:n().string.isRequired,onClose:n().func.isRequired,onFulfillmentMethodChange:n().func.isRequired,neighborhood:n().string.isRequired,postcode:n().string.isRequired,showLocationSearchModal:n().func.isRequired,toggleDateTimeModal:n().func.isRequired,trackViewedLogisticsControl:n().func.isRequired,isChangeTimeAllowed:n().bool.isRequired,withClickAndCollect:n().bool.isRequired,showFulfillmentSwitchControl:n().bool.isRequired,availableMethods:j.H.isRequired,selectedAddress:n().shape({label:n().string})},R.defaultProps={dateTimeLabel:void 0,selectedAddress:void 0};let B=R},86411:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var s=a(62540),i=a(63696),r=a(62688),n=a.n(r),l=a(4452),o=a.n(l),d=a(72611),c=a(50109),u=a.n(c);class p extends i.Component{render(){let{children:e,minColumnWidth:t,maxColumns:a,gutter:i,hasMobileGutter:r}=this.props,n=[u().grid];return r||n.push(u()["no-gutter"]),n=[...n,u()[`gutter-${i}`],u()[`min-width-${t}px`]],(0,d.A)(a,e=>{e>0&&n.push(u()[`max-columns-${e+1}`])}),(0,s.jsx)("div",{ref:e=>this.element=e,className:o()(n),children:e})}}p.propTypes={children:n().node.isRequired,maxColumns:n().oneOf([1,2,3,4,5,6]),minColumnWidth:n().oneOf([160,260,400]).isRequired,gutter:n().oneOf(["x-large","large","medium","small","x-small"]),hasMobileGutter:n().bool},p.defaultProps={maxColumns:4,gutter:"medium",hasMobileGutter:!0}},65919:(e,t,a)=>{"use strict";a.d(t,{A:()=>S});var s=a(62540),i=a(63696),r=a(85287),n=a.n(r),l=a(84540),o=a.n(l),d=a(73813),c=a.n(d),u=a(12803),p=a.n(u),m=a(49172),h=a(1969),g=a(75749),x=a(62688),f=a.n(x),b=a(4452),k=a.n(b),j=a(51913),v=a(64519),y=a.n(v);class _ extends i.Component{constructor(e){super(e),this.handleOnKeyDown=e=>{let{handleOnKeyDown:t}=this.props;t&&t(e,this.input)},this.renderSearchBox=()=>{let{onChange:e,value:t,handleOnClear:a,handleOnClick:i,isModalSearch:r,isMobile:l,handleOnClose:d,handleOnSubmit:u,searchPlaceholder:x,mobileDisplayAs:f}=this.props,b="icon"===f,v=k()(y().searchInput,{[y().searchInputModal]:r}),_=k()(y().inputWrapper,{[y().collapsed]:b}),S=k()(y().searchForm,{[y().collapsed]:b}),w=(0,s.jsx)("form",{className:S,action:".",onSubmit:e=>{e.preventDefault(),u(e)},children:b?(0,s.jsx)(g.default,{onClick:i,size:"small",type:"secondary",icon:o(),label:"Label"}):(0,s.jsx)("input",{type:"search",className:v,name:"search","aria-label":x,placeholder:x,onChange:e,value:t,autoComplete:"off",ref:this.input,onKeyDown:this.handleOnKeyDown,disabled:l?"disabled":void 0,onClick:l?void 0:i,spellCheck:!1})}),A=!r&&!b,C=l&&!b,T=a&&t&&(!b||r);return(0,s.jsxs)("div",{className:_,children:[r&&(0,s.jsx)(h.default,{onClick:d,children:(0,s.jsx)(m.default,{component:n(),color:"primary-action",colorToken:"foreground-action-subtle-on-elevation-base",size:24})}),A&&(0,s.jsx)("div",{className:y().contentBefore,children:(0,s.jsx)(m.default,{component:o(),color:"light-grey",colorToken:"foreground-neutral-subtle-on-elevation-base",size:18})}),w,C&&(0,s.jsx)("button",{type:"button",className:y().searchButton,onClick:i}),T&&(0,s.jsx)("button",{"data-testid":"clear-button",type:"button",className:y().clearButton,onClick:a,"aria-label":j.A.gettext("searchbar.search.clear_label"),children:(0,s.jsx)(m.default,{component:r?c():p(),color:"light-grey",colorToken:"foreground-action-subtle-on-elevation-base"})})]})},this.input=(0,i.createRef)(),e.returnInputRef&&!e.isMobile&&e.returnInputRef(this.input)}componentDidMount(){let{isFocused:e}=this.props;e&&this.input.current.focus()}render(){let{children:e,isModalSearch:t}=this.props,a=k()(y().wrapper,{[y().wrapperModal]:t});return(0,s.jsxs)("div",{className:a,children:[(0,s.jsx)("div",{className:y().search,children:this.renderSearchBox()}),e&&(0,s.jsx)("div",{className:y().results,children:e})]})}}_.propTypes={onChange:f().func.isRequired,value:f().string.isRequired,handleOnClear:f().func,handleOnClick:f().func,children:f().node,isFocused:f().bool,isModalSearch:f().bool,isMobile:f().bool,handleOnKeyDown:f().func,returnInputRef:f().func,handleOnClose:f().func,handleOnSubmit:f().func,searchPlaceholder:f().string.isRequired,mobileDisplayAs:f().oneOf(["textbox","icon"])},_.defaultProps={handleOnClear:void 0,children:null,handleOnClick:void 0,isFocused:!1,isModalSearch:!1,isMobile:!1,mobileDisplayAs:"textbox",handleOnKeyDown:void 0,returnInputRef:void 0,handleOnClose:void 0,handleOnSubmit:void 0};let S=_},55408:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CreditRedemptionStatus:()=>O,default:()=>L});var s=a(62540),i=a(63696),r=a(62688),n=a.n(r),l=a(85022),o=a(86481),d=a(61971),c=a(84174),u=a(67661),p=a(83732),m=a.n(p),h=a(12803),g=a.n(h),x=a(49172),f=a(51913),b=a(77819),k=a.n(b);class j extends i.Component{componentDidMount(){m().setAppElement(this.props.appElement)}render(){let{isOpen:e,dismissHandler:t,title:a,children:i,footer:r}=this.props;return(0,s.jsx)(m(),{isOpen:e,onRequestClose:t,closeTimeoutMS:300,className:{base:k().modal,afterOpen:k().modalAfterOpen,beforeClose:k().modalBeforeClose},overlayClassName:{base:k().modalOverlay,afterOpen:k().modalOverlayAfterOpen,beforeClose:k().modalOverlayBeforeClose},children:(0,s.jsxs)("div",{className:k().modalContent,children:[(0,s.jsxs)("div",{className:k().modalHeader,children:[(0,s.jsx)("h3",{className:k().modalTitle,children:a}),t&&(0,s.jsx)("a",{onClick:t,className:k().closeButton,href:"#close",children:(0,s.jsx)(x.default,{component:g(),size:18,children:f.A.gettext("Close")})})]}),(0,s.jsx)("div",{className:k().modalBody,children:i}),r&&(0,s.jsx)("div",{className:k().modalFooter,children:r})]})})}}j.propTypes={isOpen:n().bool.isRequired,dismissHandler:n().func.isRequired,children:n().node.isRequired,title:n().string.isRequired,footer:n().node,appElement:n().string.isRequired},j.defaultProps={footer:void 0};var v=a(61051),y=a.n(v);let _=e=>{let{title:t,subtitle:a}=e;return(0,s.jsxs)("div",{className:y().creditBreakdownHeader,children:[(0,s.jsx)("h3",{className:y().title,children:t}),(0,s.jsx)("p",{className:y().subtitle,children:a})]})};var S=a(51423),w=a.n(S);let A=e=>{let{heading:t,items:a}=e;return(0,s.jsxs)("div",{className:w().creditBreakdownRestrictions,children:[(0,s.jsx)("h4",{className:w().heading,children:t}),(0,s.jsx)("ul",{className:w().restrictions,children:a.map(e=>(0,s.jsx)("li",{children:e},`restrictions-item-${e}`))})]})};var C=a(82217),T=a.n(C);let R=e=>{let{heading:t,items:a}=e;return(0,s.jsxs)("div",{className:T().creditBreakdownTable,children:[(0,s.jsx)("h4",{className:T().heading,children:t}),(0,s.jsx)("table",{className:T().items,children:(0,s.jsx)("tbody",{children:a.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"row",children:e.key}),(0,s.jsx)("td",{children:e.value})]},`details-item-${e.key}`))})})]})};var B=a(15586);function I(e){let{isDisplayed:t,dismissModalHandler:a,details:r,actions:n=[],appElement:l}=e,o=(0,s.jsx)(B.A,{actions:n});return(0,s.jsx)(j,{isOpen:t,dismissHandler:a,title:"Credit details",footer:o,appElement:l,children:r?(0,s.jsx)(i.Fragment,{children:r.map(e=>{switch(e.type){case"header":return(0,s.jsx)(_,{title:e.title,subtitle:e.subtitle},`header-${e.title}`);case"table":return(0,s.jsx)(R,{heading:e.heading,items:e.items},`table-${e.heading}`);case"list":return(0,s.jsx)(A,{heading:e.heading,items:e.items},`list-${e.heading}`);default:return null}})}):(0,s.jsx)("div",{})})}I.propTypes={isDisplayed:n().bool.isRequired,dismissModalHandler:n().func.isRequired,details:n().arrayOf(n().shape({type:n().oneOf(["header","table","list"]).isRequired,title:n().string,subtitle:n().string,heading:n().string,items:n().oneOfType([n().arrayOf(n().shape({key:n().string.isRequired,value:n().string.isRequired}).isRequired),n().arrayOf(n().string)])}).isRequired).isRequired,actions:n().array,appElement:n().string.isRequired};let M=["no_action","dismiss","invite_friends","credit_details","details","login","contact_support"];class E extends i.Component{constructor(e){super(e),this.openLinkHandler=this.openLinkHandler.bind(this),this.dismissModalHandler=this.dismissModalHandler.bind(this),this.inviteFriendsHandler=this.inviteFriendsHandler.bind(this),this.showBreakdownModalHandler=this.showBreakdownModalHandler.bind(this),this.state={isDisplayed:!0,view:"status"}}getButtonAction(e){switch(e.action){case"no_action":case"dismiss":return{onClick:this.dismissModalHandler};case"invite_friends":return{onClick:this.inviteFriendsHandler};case"credit_details":case"details":return{onClick:this.showBreakdownModalHandler};case"login":case"contact_support":return{href:e.action_url};default:return{href:e.action}}}getActions(e){let t=RegExp("^/");return e.filter(e=>M.includes(e.action)||e.action.match(t)).map(e=>({...e,...this.getButtonAction(e)}))}openLinkHandler(e){return()=>location.href=e}dismissModalHandler(){this.setState({isDisplayed:!1})}inviteFriendsHandler(){this.setState({isDisplayed:!1},this.props.inviteFriendsHandler)}showBreakdownModalHandler(){this.setState({view:"breakdown"})}render(){let{appElement:e}=this.props;switch(this.state.view){case"status":{let{success:t,title:a,body:i,buttons:r}=this.props;return(0,s.jsx)(u.A,{isDisplayed:this.state.isDisplayed,dismissModalHandler:this.dismissModalHandler,success:t,title:a,body:i,actions:this.getActions(r),appElement:e})}case"breakdown":{let{details:t,breakdownButtons:a}=this.props;return(0,s.jsx)(I,{isDisplayed:this.state.isDisplayed,dismissModalHandler:this.dismissModalHandler,details:t,actions:this.getActions(a),appElement:e})}default:throw Error(`Unknown view '${this.state.view}' for CreditRedemptionModal`)}}}E.propTypes={success:n().bool.isRequired,title:n().string.isRequired,body:n().string.isRequired,buttons:n().arrayOf(n().shape({label:n().string,level:n().oneOf(["primary","secondary"]).isRequired,action_type:n().oneOf(["url","custom"]),action:n().string,action_url:n().string})).isRequired,breakdownButtons:n().arrayOf(n().shape({label:n().string,level:n().oneOf(["primary","secondary"]).isRequired,action_type:n().oneOf(["url","custom"]),action:n().string,action_url:n().string})),details:n().arrayOf(n().shape({type:n().oneOf(["header","table","list"]).isRequired,title:n().string,subtitle:n().string,heading:n().string,items:n().oneOfType([n().arrayOf(n().shape({key:n().string.isRequired,value:n().string.isRequired}).isRequired),n().arrayOf(n().string)])}).isRequired),inviteFriendsHandler:n().func.isRequired,appElement:n().string},E.defaultProps={details:[],breakdownButtons:[],appElement:"#__next"};class O extends i.Component{static #e=this.propTypes={query:n().object.isRequired,show:n().bool.isRequired,success:n().bool,title:n().string,body:n().string,buttons:n().arrayOf(n().shape({label:n().string,level:n().oneOf(["primary","secondary"]).isRequired,action_type:n().oneOf(["url","custom"]),action:n().string})),breakdownButtons:n().arrayOf(n().shape({label:n().string,level:n().oneOf(["primary","secondary"]).isRequired,action_type:n().oneOf(["url","custom"]),action:n().string})),details:n().arrayOf(n().shape({type:n().oneOf(["header","table","list"]).isRequired,title:n().string,subtitle:n().string,heading:n().string,items:n().oneOfType([n().arrayOf(n().shape({key:n().string.isRequired,value:n().string.isRequired}).isRequired),n().arrayOf(n().string)])}).isRequired),creditRedemption:n().func.isRequired,onInviteButtonClick:n().func.isRequired};static #t=this.defaultProps={show:!1,success:void 0,title:void 0,body:void 0,buttons:[],breakdownButtons:[],details:[]};componentDidMount(){let{query:e,creditRedemption:t}=this.props;e.redeem_credit_token&&t(e.redeem_credit_token)}render(){let{show:e,success:t,title:a,body:i,buttons:r,breakdownButtons:n,details:l,onInviteButtonClick:o}=this.props;return e?(0,s.jsx)(E,{success:t,title:a,body:i,buttons:r,breakdownButtons:n,details:l,inviteFriendsHandler:o}):null}}let L=(0,l.Ng)(e=>({query:e.request.currentQuery,show:e.creditRedemption.show,success:e.creditRedemption.success,title:e.creditRedemption.title,body:e.creditRedemption.body,buttons:e.creditRedemption.buttons,breakdownButtons:e.creditRedemption.breakdownButtons,details:e.creditRedemption.details}),e=>({creditRedemption:t=>e({type:c.uqG,endpoint:`/orderapp/v1/credits/redemption_status?${d.stringify({status_token:t})}`,options:{method:"GET"}}),onInviteButtonClick:()=>e((0,o.s)())}))(O)},70181:(e,t,a)=>{"use strict";a.d(t,{A:()=>U});var s=a(62540),i=a(63696),r=a(62688),n=a.n(r),l=a(4452),o=a.n(l),d=a(83934),c=a(65919),u=a(60616),p=a(51913),m=a(55327),h=a.n(m);let g=e=>{let{pills:t,setSelectedPillIndex:a,setPlaceholderText:i,selectedPillIndex:r}=e,n=t.map((e,t)=>{let{label:s,placeholder:n}=e;return{label:s,isSelected:t===r,overflowLabel:s,onClick:async()=>{a(t),i(n)}}});return(0,s.jsx)("div",{className:h().wrapper,children:(0,s.jsx)(u.default,{buttons:n,shouldScrollOnMobile:!0,overflowLabel:p.A.gettext("More")})})};var x=a(12621),f=a(51629),b=a(51924),k=a(51347),j=a.n(k);let v=()=>(0,s.jsx)("div",{className:j().overlay,"data-testid":"page-overlay"});var y=a(92247),_=a(8215),S=a.n(_);let w=(0,i.memo)(e=>{let{pillData:t,handleTabClick:a}=e,i=t?.length?t.map(e=>({key:e.id,label:e.label,isSelected:e.selected})):[];return(0,s.jsx)("div",{className:S().wrapper,children:(0,s.jsx)(y.A,{onTabClick:e=>{let s=t.findIndex(t=>t.id===e.key);a(t[s]?.params,s)},tabs:i})})});var A=a(93180),C=a(25880),T=a.n(C),R=a(84931),B=a(99700),I=a(11459),M=a.n(I);let E={SINGLE_CHOICE:"SINGLE_CHOICE"};var O=a(67500),L=a(94943),N=a(57414),D=a.n(N);let W=(0,i.memo)(e=>{let{filter:t,isFirstFilter:a,handleFilterSelect:i,handleToggleFilterOptions:r,isOpen:n=!1}=e,l=t.options.filter(e=>e.selected&&!e.default)[0]?.header,{header:o,id:d}=t,c=l||o,u=t.type===E.SINGLE_CHOICE,p=t.options?.length===1;return u?(0,s.jsxs)("div",{className:M().wrapper,children:[(0,s.jsx)(R.A,{onClick:()=>p?i(d,t.options[0]):r(o,d),label:c,isSelected:!!l||n,iconRight:p?null:T(),contentDescription:c}),n&&(0,s.jsx)(B.A,{align:a?"left":"right",children:(0,s.jsx)("ul",{className:M().filterList,children:t.options.map(e=>{let{id:a,header:r,selected:n}=e;return(0,s.jsx)("li",{children:(0,s.jsx)(A.Ay,{id:a,hasLabelBefore:!0,isBlock:!0,isChecked:n,name:r,value:r,label:r,onChange:()=>{i(t.id,e)}})},a)})})})]}):null}),q=(0,i.memo)(e=>{let{filters:t,handleFilterSelect:a}=e,r=(0,i.useRef)(null),n=(0,i.useRef)(null),l=(0,i.useRef)();(0,i.useEffect)(()=>()=>{l.current&&clearTimeout(l.current)},[]);let o=(0,L.j)(),d=(0,i.useMemo)(()=>t.reduce((e,t)=>(e[t.header]=!1,e),{}),[t]),[c,u]=(0,i.useState)(d),[p,m]=(0,i.useState)(0),h=Object.values(c).some(e=>e),g=(0,i.useCallback)(e=>{n.current&&!n.current.contains(e.target)&&u(d)},[d]);(0,i.useEffect)(()=>(h&&window.addEventListener("click",g),()=>window.removeEventListener("click",g)),[g,c]);let x=(0,i.useCallback)((e,t)=>{o((0,O.CO)(t)),u(t=>({...d,[e]:!t[e]}))},[d]),f={transform:h?`translateX(-${p}px)`:void 0};return(0,s.jsx)("div",{ref:r,className:D().wrapper,style:{overflowX:h?"unset":"auto"},onScroll:()=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{m(r.current?.scrollLeft||0)},150)},children:(0,s.jsx)("div",{ref:n,className:D().filters,style:f,children:t.map((e,t)=>(0,s.jsx)(W,{filter:e,isFirstFilter:0===t,handleToggleFilterOptions:x,handleFilterSelect:a,isOpen:c[e.header]},e.header))})})});var F=a(6504),P=a.n(F);class H extends i.Component{componentDidMount(){document.addEventListener("keydown",this.handleWindowKeyDown,!1),document.addEventListener("mousedown",this.handleOnClickOutside)}componentWillUnmount(){document.removeEventListener("keydown",this.handleWindowKeyDown,!1),document.removeEventListener("mousedown",this.handleOnClickOutside)}componentDidUpdate(e){e.selectedPillIndex!==this.props.selectedPillIndex&&this.forcePillSelectionUpdate(this.props.selectedPillIndex)}getSearchParams(){return this.props.pillData?.[this.state.selectedPillIndex]?.params}renderPills(){let{pillData:e}=this.props;return e?.length>0?(0,s.jsx)(g,{pills:e,setPlaceholderText:this.setPlaceholderText,selectedPillIndex:this.state.selectedPillIndex,setSelectedPillIndex:this.setSelectedPillIndex}):null}render(){let{value:e,selectedResult:t,keyboardSelectActive:a,selectedPillIndex:i,resetTabsKey:r}=this.state,{searchResults:n,isMobile:l,isLoading:u,appElement:p,renderOptions:{SearchSuggestionBox:m},mobileDisplayAs:h,recentSearches:g,isBackendSuggestionsEnabled:x,isSearchTabsEnabled:f,pillData:b}=this.props,k=this.state.searchPlaceholder||this.props.searchPlaceholder,j={handleOnClear:this.handleOnClear,onChange:this.handleOnChange,handleOnKeyDown:this.handleInputKeyDown,value:e,searchPlaceholder:k},y={isLoading:u,data:n.length?n:g,onClickResult:this.handleSelectResult,trackViewedSearchDropDown:this.props.trackViewedSearchDropDown,setPlaceholderText:this.setPlaceholderText,setSelectedPillIndex:this.setSelectedPillIndex,selectedPillIndex:i},_=this.getFilterGroups(),S={filters:_,handleFilterSelect:this.handleFilterSelect,offsetNav:!!b?.length},A=!!_?.length&&!u,C=this.suggestionsVisible()||!x&&u,T=!l&&C,R=o()(P().wrapper,{[P().isMobile]:l});return(0,s.jsxs)(s.Fragment,{children:[T&&(0,s.jsx)(v,{}),(0,s.jsxs)("div",{className:R,ref:this.wrapper,children:[(0,s.jsx)(c.A,{...j,handleOnClick:this.handleClickTextInput,returnInputRef:this.registerSearchInput,handleOnSubmit:this.handleOnSubmitDesktop,isMobile:l,mobileDisplayAs:h,children:T&&(0,s.jsxs)("div",{className:P().desktopWrapper,children:[f?(0,s.jsx)(w,{pillData:b,handleTabClick:this.handleTabSelect}):this.renderPills(),A&&(0,s.jsx)(q,{...S}),(0,s.jsx)(m,{...y,selectedResult:t,handleOnMouseOver:this.handleMouseOver,keyboardSelectActive:a})]})}),(0,s.jsx)(d.default,{id:"search-modal",appElement:p,type:"fullscreen",isOpen:this.state.modalIsOpen,zIndex:100,isContentEdgeToEdge:!0,children:(0,s.jsxs)("div",{className:P().modalContentWrapper,children:[(0,s.jsxs)("div",{className:P().stickyHeader,children:[(0,s.jsx)(c.A,{...j,isFocused:!0,isModalSearch:!0,handleOnClose:this.toggleModal,handleOnSubmit:this.handleOnSubmitMobile,returnInputRef:this.registerSearchInput}),f?(0,s.jsx)(w,{pillData:b,handleTabClick:this.handleTabSelect},r):this.renderPills(),A&&(0,s.jsx)(q,{...S})]}),(0,s.jsx)(m,{...y,isModalResults:!0,handleOnTouchMove:this.blurInput})]})})]})]})}constructor(...e){super(...e),this.state={value:"",showSuggestions:!1,modalIsOpen:!1,selectedResult:-1,keyboardSelectActive:!1,searchPlaceholder:null,selectedPillIndex:this.props.selectedPillIndex,resetTabsKey:0},this.wrapper=(0,i.createRef)(),this.forcePillSelectionUpdate=e=>{this.setState({selectedPillIndex:e})},this.setShowSuggestionsState=e=>{this.setState({showSuggestions:e})},this.setModalState=e=>{this.setState({modalIsOpen:e})},this.setSelectedPillIndex=async e=>{if(this.setState({selectedPillIndex:e},async()=>{let e=this.props.pillData?.[this.state.selectedPillIndex]?.id,t=this.state.value;await this.props.requestSearchResults({query:t,params:this.getSearchParams()},{debounce:!1}),this.props.trackSearchPillTapped?.(e,t)}),!this.props.isBackendSuggestionsEnabled&&this.props.getRecentSearches&&this.props.trackSawRecentSearch){let t=this.props.pillData?.[e]?.id;await this.props.getRecentSearches({selectedPillId:t}),this.props.trackSawRecentSearch(t)}},this.getFilterGroups=()=>this.props.searchResultsFilters?.options?.flatMap(e=>e.options)||[],this.getSelectedFilterParams=()=>this.getFilterGroups().flatMap(e=>e.options.flatMap(e=>e.selected&&!e.default?e.targetParams.params:[])),this.handleFilterSelect=(e,t)=>{this.props.trackTappedSearchFilter(e,t.id);let a=this.state.value,s=this.getSearchParams()||[],i=t.targetParams?.params||[],r=[...this.getSelectedFilterParams().filter(e=>e.id!==i[0].id),...t.selected?[]:i,...s];this.props.clearSearchResults(),this.props.requestSearchResults({query:a,params:r},{debounce:!1})},this.setPlaceholderText=e=>{this.setState({searchPlaceholder:e})},this.searchHasLegacyRecentSearches=()=>{let{pillData:e,recentSearches:t,isBackendSuggestionsEnabled:a}=this.props,s=e?.length>0;return!a&&!!(s&&t.length)},this.showEmptyStateSuggestions=()=>{let{pillData:e,searchResults:t,isBackendSuggestionsEnabled:a}=this.props,s=e?.length>0,i=t?.length>0;return a&&(s||i)},this.searchHasValueAndResults=()=>!!(this.props.searchResults.length&&this.state.value),this.suggestionsVisible=()=>(this.searchHasLegacyRecentSearches()||this.searchHasValueAndResults()||this.showEmptyStateSuggestions())&&this.state.showSuggestions,this.pageModalOpen=()=>!!document.querySelector(b.$F),this.handleOnClickOutside=e=>{let t=this.wrapper&&this.wrapper.current.contains(e.target),a=this.props.persistResultsOnModalClick&&this.pageModalOpen();t||(this.props.persistResultsOnModalClick||this.props.isMobile)&&(!this.props.persistResultsOnModalClick||a)||(this.state.showSuggestions&&this.props.trackSearchScrollTracking?.(),this.handleInputFocus(!1),this.setShowSuggestionsState(!1))},this.handleOnChange=e=>{let t=e.target.value;this.setShowSuggestionsState(!0),this.setState({value:t}),this.props.requestSearchResults({query:t,params:this.getSearchParams()}),""===e.target.value&&this.props.clearSearchResults()},this.handleSelectResult=e=>{let{event:t,selectedOption:a}=e,s=this.props.isBackendSuggestionsEnabled?a?.target?.suggestion:(0,x.Z)(a?.target?.params,"searchTerm"),i=a?.target?.title,r=this.state.value||s,n=this.props.pillData?.[this.state.selectedPillIndex]?.id;this.props.handleSelectResult({event:t,selectedOption:a,searchTerm:r,selectedPillId:n},{closeModal:()=>this.setModalState(!1),setSearchValue:()=>this.setState({value:i||s,selectedResult:-1}),closeSearchSuggestions:()=>this.setShowSuggestionsState(!1)})},this.registerSearchInput=e=>{this.searchInput=e},this.handleOnSubmitMobile=()=>{if(null==this.props.onSubmitMobile){this.blurInput();return}this.props.onSubmitMobile(this.state.value),this.setShowSuggestionsState(!1),this.setModalState(!1)},this.handleOnClear=()=>{this.setShowSuggestionsState(!1),this.setSelectedPillIndex(0),this.setPlaceholderText(null),this.setState(e=>({value:"",resetTabsKey:e.resetTabsKey+1})),this.props.clearSearchResults()},this.handleClickTextInput=()=>{this.props.isMobile&&this.toggleModal(),(this.searchHasLegacyRecentSearches()||this.searchHasValueAndResults()||this.showEmptyStateSuggestions())&&this.setShowSuggestionsState(!0),!this.props.isBackendSuggestionsEnabled||this.state.value||this.props.searchResults.length||(this.setShowSuggestionsState(!0),this.props.requestSearchResults({query:"",params:this.getSearchParams()},{debounce:!1})),this.state.value&&!this.props.searchResults.length&&(this.setShowSuggestionsState(!0),this.props.requestSearchResults({query:this.state.value,params:this.getSearchParams()},{debounce:!1})),this.props.trackTappedSearchBar()},this.toggleModal=()=>{this.state.modalIsOpen&&this.props.trackSearchScrollTracking?.(),this.setState(e=>({...e,modalIsOpen:!e.modalIsOpen}))},this.handleWindowKeyDown=e=>{"Escape"===e.key?(this.setShowSuggestionsState(!1),this.setModalState(!1),this.setState({selectedResult:-1}),this.handleInputFocus(!1)):"/"===e.key&&(e.preventDefault(),this.handleInputFocus(!0),this.setShowSuggestionsState(!0))},this.handleInputFocus=e=>{let t=this.searchInput&&this.searchInput.current;t&&e?(t.focus(),this.props.trackTappedSearchBar()):t&&!e&&t.blur()},this.handleInputKeyDown=e=>{if(!this.suggestionsVisible())return;let{searchResults:t}=this.props,{selectedResult:a}=this.state,s=t.reduce((e,t)=>e+(t.blocks?.length||t.options?.length||0),0);"ArrowUp"===e.key&&a>-1?this.handlePressArrowUp(e):"ArrowDown"===e.key&&a<s-1?this.handlePressArrowDown(e):"Escape"===e.key&&this.toggleModal()},this.handleOnSubmitDesktop=e=>{if(this.suggestionsVisible()){if(this.state.selectedResult<0){if(null==this.props.onSubmitDesktop){this.blurInput();return}this.setModalState(!1),e.preventDefault(),this.props.onSubmitDesktop(this.state.value)}else{let t=this.getSelectedResultOption();this.handleSelectResult({event:e,selectedOption:t})}this.props.persistResultsOnModalClick||this.setShowSuggestionsState(!1),this.handleInputFocus(!1)}},this.handlePressArrowUp=e=>{e.preventDefault(),this.setState(e=>({selectedResult:e.selectedResult-1,keyboardSelectActive:!0}))},this.handlePressArrowDown=e=>{e.preventDefault(),this.setState(e=>({selectedResult:e.selectedResult+1,keyboardSelectActive:!0}))},this.getSelectedResultOption=()=>{let{searchResults:e}=this.props,{selectedResult:t}=this.state;return e.reduce((e,t)=>e.concat(t.blocks||t.options),[])[t]},this.blurInput=()=>{this.handleInputFocus(!1)},this.handleMouseOver=()=>{this.state.keyboardSelectActive&&this.setState({keyboardSelectActive:!1,selectedResult:-1})},this.handleTabSelect=(e,t)=>{this.setSelectedPillIndex(t),this.props.clearSearchResults(),this.props.requestSearchResults({query:this.state.value,params:e},{debounce:!1})}}}H.propTypes={isMobile:n().bool,requestSearchResults:n().func.isRequired,onSubmitDesktop:n().func,onSubmitMobile:n().func,handleSelectResult:n().func.isRequired,searchPlaceholder:n().string.isRequired,renderOptions:n().shape({SearchSuggestionBox:n().elementType}).isRequired,searchResultsFilters:n().shape({title:n().string,options:n().array}),searchResults:n().arrayOf(n().shape({header:n().string,key:n().string,resultTarget:n().shape({typeName:n().string,queryParams:n().string,title:n().string}),options:n().arrayOf(n().shape({key:n().string,count:n().number,highlights:n().arrayOf(n().shape({begin:n().number,end:n().number})),image:n().shape({type:n().string,default:n().string}),label:n().string,target:n().shape({typeName:n().string,restaurant:n().shape({name:n().string,links:n().shape({self:n().shape({href:n().string})})}),params:n().arrayOf(n().shape({id:n().string,value:n().arrayOf(n().string)})),queryParams:n().string,title:n().string})}))})).isRequired,clearSearchResults:n().func.isRequired,trackTappedSearchBar:n().func.isRequired,trackViewedSearchDropDown:n().func.isRequired,trackSearchPillTapped:n().func,trackSearchScrollTracking:n().func,isLoading:n().bool.isRequired,appElement:n().string,mobileDisplayAs:n().oneOf(["textbox","icon"]),persistResultsOnModalClick:n().bool,pillData:n().arrayOf(n().shape({id:n().string,label:n().string,placeholder:n().string})),selectedPillIndex:n().number,recentSearches:n().arrayOf(n().shape({header:n().string.isRequired,key:n().string.isRequired,blocks:n().arrayOf(n().shape({key:n().string.isRequired,contentMain:n().arrayOf(n().shape({key:n().string,typeName:n().string,textContent:n().arrayOf(n().shape(f.vY))})),target:n().shape({typeName:n().string.isRequired,action:n().string.isRequired,params:n().arrayOf(n().shape({id:n().string.isRequired,value:n().string.isRequired})).isRequired})})).isRequired})),getRecentSearches:n().func,trackSawRecentSearch:n().func,isBackendSuggestionsEnabled:n().bool,isSearchTabsEnabled:n().bool,trackTappedSearchFilter:n().func},H.defaultProps={isMobile:!1,appElement:"#__next",mobileDisplayAs:"textbox",onSubmitDesktop:null,onSubmitMobile:null,persistResultsOnModalClick:!1,pillData:[],selectedPillIndex:0,trackSearchPillTapped:null,trackSearchScrollTracking:null,recentSearches:[],getRecentSearches:()=>{},trackSawRecentSearch:()=>{},isBackendSuggestionsEnabled:!1,isSearchTabsEnabled:!1,trackTappedSearchFilter:()=>{},searchResultsFilters:void 0};let U=H},21164:(e,t,a)=>{"use strict";a.d(t,{A:()=>y});var s=a(62540),i=a(85022),r=a(4072),n=a(63696),l=a(83934),o=a(79753),d=a.n(o),c=a(11230),u=a(41538),p=a(10966),m=a(20263),h=a(51913),g=a(20343);let x=e=>{let{header:t,layoutTrackingId:a,onClose:r,rooBlock:n,appElement:o="#__next",isOpen:x=!1}=e,f=(0,u.Ay)(),b=(0,i.d4)(m.$),{Sentry:k,captureException:j}=(0,g.A)();if(!n)return null;let{elements:v,layouts:y}=(0,p.A)(n,b),_={layoutTrackingId:a,blockTrackingId:n.trackingId,blockTrackingProperties:n.trackingProperties};return v&&y?(0,s.jsx)(l.default,{type:"bottomSheet",appElement:o,isOpen:x,hasOverflow:!0,onClose:r,closeButtonLabel:h.A.gettext("Close"),headerTitle:t||void 0,isContentEdgeToEdge:!0,children:(0,s.jsx)(c.A,{children:(0,s.jsx)(d(),{elements:v,layouts:y,handler:e=>{e&&f(e,_)},onError:e=>{k.withScope(t=>{t.setTags({error_boundary:!0,error_boundary_recovery_ui:!1,service:"ROOBLOCKS"}),j(e)})}})})}):null};var f=a(94943),b=a(27544);function k(e){let{trackingId:t,displayId:a,rooBlock:i,header:r,onClose:l}=e,o=(0,f.j)(),[d,c]=(0,n.useState)(!0);(0,n.useEffect)(()=>{d&&o((0,b.SF)({displayId:a,trackingId:t}))},[o,a,d,t]);let u=(0,n.useCallback)(()=>{l?.(),c(!1),o((0,b.KB)({displayId:a,trackingId:t}))},[o,a,l,t]);return(0,s.jsx)(x,{isOpen:d,onClose:u,header:r,rooBlock:i,layoutTrackingId:t})}var j=a(3227),v=a(15993);function y(){let e=(0,f.j)(),t=(0,i.d4)(v.hj),a=(0,i.d4)((0,v.$2)(t));return a&&a?.typeName===r.au.UIRooBlockModal?(0,s.jsx)(k,{...a,onClose:()=>{e((0,j.t5)(null))}}):null}},50720:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>rE});var s=a(62540),i=a(63696),r=a(56749),n=a.n(r),l=a(85022),o=a(63498),d=a.n(o),c=a(85202),u=a(20343),p=a(13993),m=a(91244),h=a(65854),g=a(6337),x=a(72399),f=a(32996),b=a(40115),k=a(29022),j=a(92390),v=a(92888),y=a(27817),_=a(9879),S=a(55178),w=a(30064),A=a(81160);let C=(0,i.createContext)({}),T=()=>(0,i.useContext)(C),R=e=>{let{children:t}=e,[a,r]=(0,i.useState)(null),n=a&&"global"!==a,{modal:{title:o,ctaText:d,backupStrategies:c},updateBackupStrategyUrl:u}=(0,l.d4)(n?(0,j.dN)(a):j._5)||{modal:{}},p=!!a;return(0,s.jsx)(C.Provider,{value:{title:o,ctaText:d,updateBackupStrategyUrl:u,backupStrategies:c,showBackupStrategyModal:p,setBackupStrategyId:r,itemId:n?a:void 0},children:t})};var B=a(4452),I=a.n(B),M=a(90509),E=a(46008),O=a(62688),L=a.n(O),N=a(72831),D=a(51913),W=a(91995),q=a(70181),F=a(37433),P=a(1561),H=a(43331);let U=(0,i.createContext)(),G=()=>(0,i.useContext)(U),z=e=>{let{children:t}=e,[a,r]=(0,i.useState)(-1);return(0,s.jsx)(U.Provider,{value:{highlightedIndex:a,setHighlightedIndex:r,keyboardSelectActive:a>-1},children:t})};z.propTypes={children:L().node.isRequired};var V=a(34979),$=a(22304),X=a(6440);let K=e=>{let{index:t,children:a}=e,{highlightedIndex:i,keyboardSelectActive:r}=G();return(0,s.jsx)("div",{className:I()({menuSearchRowIsHighlighted:t===i,menuSearchRowIsKeyboardActive:r}),children:a})};var J=a(96545),Y=a.n(J);function Z(e){var t;let{data:a,isModalResults:r=!1,selectedResult:n,isLoading:l=!1,handleOnMouseOver:o,handleOnTouchMove:d,trackViewedSearchDropDown:c}=e,{setHighlightedIndex:u}=G();t=r?()=>{d&&d()}:null,(0,i.useEffect)(()=>{if(t)return document.addEventListener("touchmove",t,!1),()=>document.removeEventListener("touchmove",t,!1)},[]),(0,i.useEffect)(()=>{c&&!l&&c()},[c,l]),(0,i.useEffect)(()=>{u(n)},[u,n]);let p=I()(Y().suggestionBox,{[Y().suggestionBoxModal]:r,[Y().loaderWrapper]:l});return l?(0,s.jsx)("div",{className:p,children:(0,s.jsx)($.default,{type:"primary",size:48})}):(0,s.jsx)("div",{onMouseOver:o,onFocus:o,className:p,children:(0,s.jsx)(X.A,{layouts:a,isSearchBlock:!0,children:(e,t,a)=>(0,s.jsx)(K,{index:a,id:t.id,trackingId:t.trackingId,children:e})})})}let Q=L().shape({illustrationName:L().string.isRequired}),ee=L().shape({altText:L().string.isRequired,url:L().string.isRequired,typeName:L().string.isRequired});Z.propTypes={data:L().arrayOf(L().shape({blocks:L().arrayOf(L().shape({available:L().bool,image:L().oneOfType([ee,Q]),key:L().string.isRequired,lines:L().arrayOf(L().shape({key:L().string.isRequired,spans:L().arrayOf(L().shape({color:L().shape({hex:L().string.isRequired}).isRequired,isBold:L().bool.isRequired,key:L().string.isRequired,size:L().string.isRequired,text:L().string.isRequired,typeName:L().string.isRequired}).isRequired).isRequired,typeName:L().string.isRequired}).isRequired).isRequired,target:L().shape({typeName:L().string.isRequired}).isRequired,typeName:L().string.isRequired}).isRequired).isRequired,header:L().string,subheader:L().string,key:L().string.isRequired,layoutId:L().string,maxColumns:L().number.isRequired,typeName:L().string.isRequired}).isRequired).isRequired,isModalResults:L().bool,trackViewedSearchDropDown:L().func,selectedResult:L().number,isLoading:L().bool,handleOnTouchMove:L().func,handleOnMouseOver:L().func};var et=a(19953),ea=a(94943);function es(e){let{isMobile:t=!1,mobileDisplayAs:a}=e,r=(0,ea.j)(),n=(0,et.Ay)(),o=(0,N.useRouter)(),{openMenuItemModal:d}=(0,V.A)(),c=(0,l.d4)(e=>e.menuPage.search.loading),u=(0,l.d4)(j.p5),p=D.A.gettext("partner_menu_page.searchbar.placeholder(%(restaurantName)s)",{restaurantName:(0,l.d4)(j.W8).name}),m=(0,i.useCallback)(e=>{let{url:t,as:a,locale:s}=n.getLinkParams((0,F.oG)(o.asPath,{query:e}));o.push(t,a,{scroll:!1,locale:s})},[o,n]),h=(0,i.useCallback)(e=>{let{selectedOption:{trackingId:t,properties:{id:a}}}=e;r((0,H.FV)(a)),d(a,t,P.mU.SEARCH)},[r,d]),g=(0,i.useMemo)(()=>(0,W.G)(e=>{""!==e.query&&r((0,k.M3)(e.query))}),[r]),x=(0,i.useCallback)(()=>r((0,k.AX)()),[r]),f=(0,i.useCallback)(()=>r((0,H.tn)()),[r]),b=(0,i.useCallback)(()=>r((0,H.pu)()),[r]),v=(0,i.useCallback)(()=>r(H.aI),[r]),y={SearchSuggestionBox:(0,i.useMemo)(()=>e=>(0,s.jsx)(z,{children:(0,s.jsx)(Z,{...e})}),[])};return(0,s.jsx)(q.A,{isMobile:t,mobileDisplayAs:a,persistResultsOnModalClick:!0,searchResults:u,searchPlaceholder:p,isLoading:c,renderOptions:y,onSubmitDesktop:m,onSubmitMobile:m,requestSearchResults:g,clearSearchResults:x,handleSelectResult:h,trackTappedSearchBar:f,trackViewedSearchDropDown:b,trackSearchScrollTracking:v})}es.propTypes={isMobile:L().bool,mobileDisplayAs:L().string};var ei=a(82795),er=a(7158),en=a(95571),el=a(40687),eo=a(32545),ed=a(49172),ec=a(85287),eu=a.n(ec),ep=a(74444),em=a(57855),eh=a(84750),eg=a(85679),ex=a(41784),ef=a(80809),eb=a.n(ef);let ek=(e,t,a,s)=>{let i,r="/",{origin:n}=new ep.Ay(e),l=t?.geohash,o=t?.city,d=t?.neighborhood;if((0,eg.i)()){let e=window.localStorage.getItem(ex.l5);e&&(i=new ep.Ay(e).search)}if(o&&d&&n&&s?.languages){if(r=`${n}${(0,em.IJ)(s,`/restaurants/${o}/${d}`,a)}`,i)return r+i;if(l)return`${r}?geohash=${l}`}return r},ej=()=>{let e=(0,ea.j)(),t=(0,l.d4)(M.bp),a=ek(t,(0,l.d4)(M.st),(0,l.d4)(M.JK),(0,l.d4)(M.Wj)),i=(0,l.d4)(j.W8),r=(0,et.Ay)();return(0,s.jsx)(eo.default,{className:eb().linkButton,spacing:{tablet:"medium 0 0"},children:(0,s.jsx)(en.default,{left:(0,s.jsx)(ed.default,{color:"primary-action",colorToken:"foreground-action-subtle-on-elevation-base",component:eu(),ariaLabel:D.A.gettext("partner_menu_page.navigation_bar.back")}),onClick:s=>{let n={currentUrl:t,redirectingUrl:a,menu_id:i?.menuId,restaurant_id:i?.id};window.localStorage.removeItem(ex.l5),r.getRouteHandler(a,()=>{e({type:eh.pF,payload:{name:"Tapped Back To Served Home",properties:n}})})(s)},children:(0,s.jsx)("div",{className:eb().linkText,children:(0,s.jsx)(el.default,{color:"primary-action",colorToken:"foreground-action-normal-on-elevation-base",children:D.A.gettext("partner_menu_page.navigation_bar.back")})})})})};var ev=a(52001),ey=a.n(ev);let e_=e=>{let{searchBarEnabled:t,isFavouritesEntryPointEnabled:a}=e,r=(0,l.d4)(M.bp),n=(0,l.d4)(M.st),o=(0,l.d4)(M.JK),d=(0,l.d4)(M.Wj),{navigationGroups:{layoutNavigationSecondary:c}}=(0,l.d4)(j._f),[u,p]=(0,i.useState)("/");return(0,i.useEffect)(()=>{p(ek(r,n,o,d))},[r,n,o,d]),(0,s.jsx)("div",{className:I()({[ey().header]:!c}),...!c&&{"data-sticky-head":!0},children:(0,s.jsx)(E.A,{maxWidth:"x-large",logoUrl:u,searchComponent:t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(es,{isMobile:!1}),(0,s.jsx)(es,{isMobile:!0,mobileDisplayAs:"icon"})]}),favouritesComponent:a&&(0,s.jsx)(ei.A,{source:er.Xl.PARTNER})})})};var eS=a(54243),ew=a(57563),eA=a(13505),eC=a(17322),eT=a(77137),eR=a(40960),eB=a.n(eR),eI=a(58882),eM=a(60061),eE=a(40329),eO=a(89282),eL=a(1969),eN=a(14037),eD=a(25881),eW=a(97100);let eq=()=>{let e=(0,l.d4)(j.F7),t=(0,l.d4)(j.Eq),a=(0,l.d4)(j.hl),{hasFetched:s}=(0,eW.A)();return{isLoading:!s,fulfillmentTimeEstimate:e?.asap?.selected_display_label,fulfillmentRangeEstimate:e?.asap?.minuteRange||e?.raw_delivery_estimates?.range,fulfillmentMethod:t,fulfillmentLabel:a}};var eF=a(83325),eP=a(95670),eH=a(90543),eU=a(75832),eG=a.n(eU);let ez=e=>{let{layoutId:t}=e,{showFulfillmentRowCta:a}=(0,l.d4)(j._f).header,{setModalType:i}=(0,eS.k)(),{isGuestOnGroupOrder:r}=(0,eF.A)(),{isLoading:n,fulfillmentTimeEstimate:o,fulfillmentMethod:d,fulfillmentLabel:c}=eq(),u=(0,l.d4)(j.k3),p=(0,l.d4)(j.MY),m=a&&!r,h=!p||u;return(0,s.jsx)(eP.KU,{layoutId:t,trackingId:"fulfillment_row",className:I()(eG().fulfillment,{[eG().isLoading]:n}),children:(0,s.jsx)(eH.A,{overrides:{align:"left",rightOffset:0,position:"bottom"},children:(0,s.jsx)(eL.default,{onClick:()=>{i(P.uD.LOGISTICS_MODAL)},isDisabled:!m,isBlock:!0,children:(0,s.jsxs)(en.default,{left:(0,s.jsx)(eD.default,{size:"small",fulfillmentMethod:d}),right:m&&(0,s.jsx)(eN.default,{color:"primary-action",colorToken:"foreground-action-normal-on-elevation-base",children:D.A.gettext("partner_menu_page.header.fulfilment_change.action")}),isPlaceholder:n,children:[(0,s.jsxs)(s.Fragment,{children:[!p&&(0,s.jsx)(eN.default,{color:"red",colorToken:"foreground-critical-normal-on-elevation-base",children:D.A.gettext("partner_menu_page.fulfilment_row.no_location_selected_label")}),u&&(0,s.jsx)(eN.default,{color:"red",colorToken:"foreground-critical-normal-on-elevation-base",children:D.A.gettext("partner_menu_page.location.undeliverable")})]}),!h&&(0,s.jsx)(eN.default,{colorToken:"foreground-neutral-intense-on-elevation-base",children:c||o||D.A.gettext("partner_menu_page.fulfilment_row.deliver_label")})]})})})})};ez.propTypes={layoutId:L().string.isRequired};var eV=a(75749),e$=a(22500),eX=a.n(e$);let eK=()=>{let{hasGroupOrderingEnabled:e,isGroupOrder:t,isLoading:a,handleStartGroupOrder:i}=(0,eF.A)();return!e||t?null:(0,s.jsx)(eV.default,{type:"secondary",size:"small",icon:eX(),onClick:i,isLoading:a,children:(0,s.jsx)(eN.default,{color:"black",children:D.A.gettext("partner_menu_page.group_ordering.start_button")})})};var eJ=a(50647),eY=a(88769),eZ=a(44404),eQ=a.n(eZ);let e0=e=>{let{layoutId:t}=e,a=(0,ea.j)(),r=(0,eM.Ay)(),{headerInfoRows:n}=(0,l.d4)(j._f).header,o=(0,l.d4)((0,j.BG)(P.uj.MENU_HEADER_REDESIGN)),d=(e,t)=>()=>(a((0,H.NC)(t)),r(e));return(0,s.jsxs)(s.Fragment,{children:[n?.map(e=>{let{key:a,image:r,lines:n,target:l,badge:o,trackingId:c,uiTooltip:u}=e;return s.jsx(eP.KU,{layoutId:t,trackingId:c,className:eQ().row,adjacentVerticalSpacing:"medium",children:s.jsx(en.default,{left:r?s.jsx(eY.A,{image:r}):void 0,right:s.jsxs("div",{className:eQ().rightContent,children:[!!o&&s.jsx(eo.default,{spacing:"0 small 0 0",children:i.createElement(()=>{switch(o.typeName){case"UIRewardProgressBlock":return s.jsx(eT.Ay,{steps:o.steps,completed:o.completed,adjacentHorizontalSpacing:"medium"});case"UIRewardProgressCompletedBlock":return s.jsx(eO.A,{name:o.illustration?.name,size:P.ED.MEDIUM});default:return null}})}),!!l&&s.jsx(ed.default,{component:eB(),color:"primary-action",colorToken:"foreground-action-subtle-on-elevation-base",size:18})]}),onClick:l?d(l,c):void 0,children:s.jsx(eI.A,{condition:!!u,wrapper:e=>s.jsx(eJ.A,{tooltip:u,overrides:{withoutTrigger:!0,align:"left",rightOffset:0,position:"top"},children:e}),children:s.jsx(eE.UILinesWithMenuTargetHandler,{lines:n})},`${a}`)})},a)}),(0,s.jsxs)(eo.default,{className:I()({[eQ().aside]:!o}),adjacentVerticalSpacing:o?"small":"medium",adjacentHorizontalSpacing:o?"medium":void 0,children:[!o&&(0,s.jsx)(ez,{layoutId:t}),(0,s.jsx)(eo.default,{className:I()({[eQ().groupOrderButton]:!o}),adjacentVerticalSpacing:"medium",children:(0,s.jsx)(eK,{})})]})]})};e0.propTypes={layoutId:L().string.isRequired};let e1=()=>{let{isLoading:e,fulfillmentRangeEstimate:t}=eq(),{menuDisabled:a}=(0,l.d4)(j.W8);return!a&&(e||t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eN.default,{isPlaceholder:e,spacing:"0 x-small 0 0",colorToken:"foreground-neutral-intense-on-elevation-base",children:D.A.gettext("partner_menu_page.header.eod_range.label(%(range)s)",{range:t})}),!e&&(0,s.jsx)("span",{"aria-hidden":!0,children:"\xb7 "})]}):null};var e4=a(96126),e5=a(71991),e6=a(63364),e2=a(83704),e9=a.n(e2);let e8=()=>{let{header:e}=(0,l.d4)(j._f);return e.banners?.length?(0,s.jsx)(eo.default,{adjacentVerticalSpacing:"medium",children:e.banners.map(e=>{let{typeName:t,key:a,lines:i,image:r,badge:n,backgroundColor:l}=e;switch(t){case P.zq.PROMO:{let e=e5.$J[l.name];return(0,s.jsx)(eo.default,{className:e9().banner,adjacentVerticalSpacing:"medium",children:(0,s.jsx)(e4.Ay,{body:(0,s.jsx)(eE.UILinesWithMenuTargetHandler,{lines:i}),icon:r&&e6.Xs[r.name]?.(),rightContent:!!n&&(0,s.jsx)("div",{className:e9().badge,children:(0,s.jsx)(eE.UILinesWithMenuTargetHandler,{lines:[n]})}),theme:e,backgroundColor:e?void 0:l.hex,isCompact:!0})},a)}case P.zq.PLUS:return(0,s.jsx)(eo.default,{className:e9().banner,adjacentVerticalSpacing:"medium",children:(0,s.jsx)(e4.Ay,{body:(0,s.jsx)(eE.UILinesWithMenuTargetHandler,{lines:i}),theme:"plus",isCompact:!0})},a);default:return null}})}):null};var e3=a(65731),e7=a(48817),te=a(10547),tt=a.n(te),ta=a(9973),ts=a.n(ta);let ti=e=>{let{colors:t}=e;return(0,e7.css)`
  &.${ts().banner} {
    background-color: ${t.primary};
  }
`},tr=()=>{let{ownerName:e,guestCount:t,shareUrl:a,isGroupOrder:r,isOwnerOfGroupOrder:n,isGuestOnGroupOrder:l,isGuestGroupOrderMerged:o,isLoading:d,handleCancelGroupOrder:c,handleLeaveGroupOrder:u}=(0,eF.A)(),p=(0,ea.j)(),{basketFeesAndTotals:m,basketItemsCount:h}=(0,eW.A)(),[g,x]=(0,i.useState)(!1);return r?(0,s.jsx)(e7.default,{set:ti,children:(0,s.jsx)(eo.default,{className:ts().banner,spacing:{mobile:"medium",tablet:"medium 0"},children:(0,s.jsx)(eA.default,{maxWidth:"x-large",children:(0,s.jsx)(eA.default,{fullWidth:"mobile-only",maxWidth:"x-large",children:(0,s.jsxs)("div",{className:ts().content,children:[(0,s.jsx)(ed.default,{component:eX(),color:"white",colorToken:"foreground-brand-emphasis-on-brand-emphasis",spacing:"0 medium 0 0"}),(0,s.jsxs)("div",{className:ts().info,children:[(0,s.jsx)(eN.default,{color:"white",colorToken:"foreground-brand-emphasis-on-brand-emphasis",isBold:!0,children:D.A.gettext("partner_menu_page.group_ordering.status_bar.title(%(ownerName)s)",{ownerName:e})}),(0,s.jsxs)(eN.default,{color:"white",colorToken:"foreground-brand-emphasis-on-brand-emphasis",children:[n&&`${D.A.ngettext("partner_menu_page.group_ordering.status_bar.guest_count(%(guestCount)s)","partner_menu_page.group_ordering.status_bar.guest_count(%(guestCount)s).many",t,{guestCount:t})} \xb7 ${m.total}`,l&&!o&&D.A.gettext("partner_menu_page.group_ordering.status_bar.add_items"),l&&o&&D.A.ngettext("partner_menu_page.group_ordering.status_bar.add.item_count(%(basketItemsCount)s)","partner_menu_page.group_ordering.status_bar.add.item_count(%(basketItemsCount)s).many",h,{basketItemsCount:h})]})]}),(0,s.jsxs)("div",{className:ts().ctas,children:[n?(0,s.jsx)(eV.default,{type:"secondary",size:"small",onClick:c,isLoading:d,isInverted:!0,children:D.A.gettext("partner_menu_page.group_ordering.status_bar.cancel_button")}):(0,s.jsx)(eV.default,{type:"secondary",size:"small",onClick:u,isLoading:d,isInverted:!0,children:D.A.gettext("partner_menu_page.group_ordering.status_bar.leave_button")}),(0,s.jsx)(e3.CopyToClipboard,{text:a,onCopy:()=>{x(!0),p((0,H.of)("banner"))},children:(0,s.jsx)(eV.default,{type:"secondary",size:"small",icon:g?tt():void 0,label:D.A.gettext("partner_menu_page.group_ordering.status_bar.copy_button"),adjacentHorizontalSpacing:"medium",isInverted:!0,children:!g&&D.A.gettext("partner_menu_page.group_ordering.status_bar.copy_button")})})]})]})})})})}):null};var tn=a(87851),tl=a(71681),to=a(33860),td=a.n(to);let tc=e=>{let{title:t,headerBadge:a}=e,i=(0,l.d4)((0,j.BG)(P.uj.MENU_HEADER_REDESIGN));return(0,s.jsx)("div",{className:I()({[td().menuHeaderRedesign]:i}),children:(0,s.jsxs)(tl.default,{level:1,size:{mobile:"medium",desktop:"large"},colorToken:"foreground-neutral-intense-on-elevation-base",children:[t,a?.illustration?.name&&(0,s.jsx)("span",{className:td().illustrationWrapper,children:(0,s.jsx)(eO.A,{size:{mobile:P.ED.SMALL,desktop:P.ED.THIRTY_SIX},name:a.illustration.name})})]})})};var tu=a(79753),tp=a.n(tu),tm=a(1796),th=a(10966),tg=a(20263),tx=a(41538),tf=a(11230),tb=a(36192),tk=a.n(tb);let tj=e=>{let{uiRows:t,layoutTrackingId:a}=e,i=(0,l.d4)(tg.$),r=(0,tx.Ay)(),n=(0,eM.Ay)(),{Sentry:o,captureException:d}=(0,u.A)();return t?(0,s.jsx)(s.Fragment,{children:t.map(e=>{switch(e.typeName){case P.y_.UIBasicRow:return null;case P.y_.UIUGCCarouselTagRow:{let{tags:t,target:a}=e;if(0===t.length)return null;return(0,s.jsx)(en.default,{spacing:"small medium",onClick:a?()=>n(a):void 0,right:(0,s.jsx)(ed.default,{component:eB(),color:"primary-action",colorToken:"foreground-action-subtle-on-elevation-base"}),children:(0,s.jsx)(tm.Ay,{display:"flex",children:(0,s.jsx)("div",{className:tk().ugcTagContainer,children:(0,s.jsxs)("div",{className:tk().ugcTagWrapper,children:[t.map(e=>(0,s.jsx)("div",{className:tk().ugcTag,style:{backgroundColor:e.backgroundColor.hex},children:(0,s.jsx)(eE.UILinesWithMenuTargetHandler,{lines:e.lines})},e.key)),(0,s.jsx)("div",{className:tk().ugcTagGradient})]})})})},e.key)}case P.y_.UIRooBlock:{let{elements:t,layouts:n}=(0,th.A)(e,i);if(!t||!n)return null;let l={blockTrackingId:e.trackingId,layoutTrackingId:a,blockTrackingProperties:e.trackingProperties};return(0,s.jsx)(tf.A,{children:(0,s.jsx)(tp(),{elements:t,layouts:n,handler:e=>{e&&r(e,l)},onError:e=>{o.withScope(t=>{t.setTags({service:"ROOBLOCKS - Menu Header"}),d(e)})}})},e.key)}default:return null}})}):null};var tv=a(30040),ty=a.n(tv);let t_=()=>{let{title:e,image:t,headerTags:a,headerBadge:i,favouritesOverlay:r,layoutId:n,uiRows:o}=(0,l.d4)(j._f).header,d=(0,l.d4)((0,j.BG)(P.uj.MENU_HEADER_REDESIGN)),c=(0,l.d4)(j.uu);return(0,s.jsxs)("div",{className:I()(ty().header,{[ty().isHeaderHidden]:c}),children:[(0,s.jsx)(tr,{}),!c&&(0,s.jsx)(eA.default,{maxWidth:"x-large",children:(0,s.jsx)(eA.default,{fullWidth:"mobile-only",maxWidth:"x-large",children:(0,s.jsxs)("div",{className:ty().outerWrapper,children:[(0,s.jsx)(ej,{}),(0,s.jsxs)(eo.default,{className:I()(ty().wrapper,{[ty().menuHeaderRedesign]:d}),spacing:{tablet:"medium 0 large",desktop:"medium 0 x-large"},children:[(0,s.jsxs)("div",{className:ty().heroImage,children:[(0,s.jsx)(eC.default,{src:t?.url||"",children:!!r&&(0,s.jsx)(tn.A,{...r,selectedColor:{hex:"#ffffff"},unselectedColor:{hex:"#ffffff"},backgroundColor:{from:{red:0,green:0,blue:0,alpha:.3},to:{red:255,green:255,blue:255,alpha:0}},source:er.r.PARTNER})}),!d&&(0,s.jsx)("div",{className:ty().groupOrderButton,children:(0,s.jsx)(eK,{})})]}),(0,s.jsxs)(eo.default,{className:ty().info,spacing:{mobile:"medium",tablet:"0 0"},children:[(0,s.jsx)(tc,{title:e,headerBadge:i}),(0,s.jsx)(eP.xr,{layoutId:n,trackingId:a.trackingId,lines:a.lines,adjacentVerticalSpacing:{mobile:"x-small",tablet:"small"},children:e=>0===e&&(0,s.jsx)(e1,{})}),o?.length>0?(0,s.jsx)(tj,{uiRows:o,layoutTrackingId:n}):null,(0,s.jsx)(e0,{layoutId:n}),(0,s.jsx)(e8,{})]})]})]})})})]})};var tS=a(60616),tw=a(67580),tA=a(16097);let tC=()=>{let e=(0,eM.Ay)(),t=(0,tA.A)();return(0,s.jsx)("a",{href:t(eM.k0),onClick:t=>{t.preventDefault(),e(eM.k0)},"aria-label":D.A.gettext("partner_menu_page.navigation_bar.back"),children:(0,s.jsx)(ed.default,{component:eu(),color:"primary-action",spacing:"0 small 0 0"})})};var tT=a(27589),tR=a.n(tT);let tB=e=>{let{navigation:t,isSecondary:a=!1}=e,r=(0,i.useRef)(!1),n=(0,ea.j)(),o=(0,eM.Ay)(),d=(0,tA.A)(),c=t.findIndex(e=>e.selected),[u,p]=(0,i.useState)(c),m=(0,l.d4)(j.uu),[h,g]=(0,i.useState)(!a&&m),{hasPageFinishedLoading:x}=(0,ew.A)(),f=t.map((e,t)=>{let{label:a,image:s,target:i,trackingId:l}=e;return{label:a,image:s?.url,isSelected:t===u,href:d(i),onClick:async e=>{e.preventDefault(),r.current=!0;try{await o({...i,layoutId:`${tw.G}${i.layoutId}`}),document.querySelector(`#${tw.G}${i.layoutId} [tabindex="0"]`)?.focus(),p(t),n((0,H.NC)(l)),n((0,H.kV)(i.layoutId))}catch{}r.current=!1}}});return(0,i.useEffect)(()=>{let e=[],a=new IntersectionObserver(a=>{if(a.forEach(t=>{let a=[...t.target.parentElement.children].indexOf(t.target);t.isIntersecting?e[a]=t:delete e[a]}),!r.current){let a=e.reduce((e,t)=>t.intersectionRatio>(e?.intersectionRatio||0)?t:e,null);if(a){let e=t.findIndex(e=>a.target.id===`${tw.G}${e.target.layoutId}`);p(e),n((0,H.kV)(t[e].target.layoutId))}}},{threshold:[0,1]});return t.forEach(e=>{let t=document.querySelector(`#${tw.G}${e.target.layoutId}`);t&&a.observe(t)}),()=>a.disconnect()},[n,t]),(0,i.useEffect)(()=>{p(c)},[c,t]),(0,i.useEffect)(()=>{x&&g(m&&!a)},[x,m,a]),(0,s.jsxs)("div",{className:I()(tR().navigation,{[tR().hasBackButton]:h},{[tR().isSecondary]:a}),children:[h&&(0,s.jsx)(tC,{}),(0,s.jsx)(tS.default,{buttons:f,overflowLabel:D.A.gettext("partner_menu_page.navigation_bar.more_label"),shouldScrollOnMobile:!0,isTransparent:a})]})};tB.propTypes={navigation:L().arrayOf(L().shape({target:L().shape({typeName:L().string.isRequired,layoutId:L().string}).isRequired,label:L().string.isRequired,image:L().shape({url:L().string.isRequired}),selected:L().bool.isRequired,trackingId:L().string.isRequired})).isRequired,isSecondary:L().bool};var tI=a(83858),tM=a.n(tI);let tE=e=>{let{navigation:{label:t,target:a,trackingId:i}}=e,r=(0,ea.j)(),n=(0,eM.Ay)(),l=(0,tA.A)()(a),o=l?"a":eL.default,d=e=>{e.preventDefault(),r((0,H.NC)(i)),n(a)};return(0,s.jsxs)("div",{className:tM().navigation,children:[(0,s.jsx)(tC,{}),(0,s.jsx)(eI.A,{condition:!!(0,eM.I$)(a),wrapper:e=>(0,s.jsx)(o,{className:tM().target,href:l,onClick:d,children:e}),children:(0,s.jsx)(eN.default,{isBold:!0,children:t})})]})};var tO=a(71786),tL=a.n(tO);let tN=e=>{let{colors:t}=e;return(0,e7.css)`
  .${tL().isSelected} {
    border-color: ${t.primary};
  }
`},tD=e=>{let{navigation:t}=e,a=(0,ea.j)(),i=(0,eM.Ay)(),r=(0,tA.A)();return(0,s.jsx)(e7.default,{set:tN,children:(0,s.jsx)("div",{className:tL().navigation,children:t.map(e=>{let{label:t,selected:n,target:l,trackingId:o}=e,d=r(l),c=d?"a":eL.default,u=e=>{e.preventDefault(),a((0,H.NC)(o)),i(l)};return(0,s.jsx)("div",{className:I()(tL().tab,{[tL().isSelected]:n}),children:(0,s.jsx)(eI.A,{condition:!!(0,eM.I$)(l),wrapper:e=>(0,s.jsx)(c,{className:tL().target,href:d,onClick:u,children:e}),children:(0,s.jsx)(eN.default,{color:"black",children:t})})},t)})})})};var tW=a(41011),tq=a.n(tW);let tF=()=>{let e;let{layoutNavigation:t,layoutOptionNavigation:a,layoutNavigationSecondary:r,layoutTabNavigation:n}=(0,l.d4)(j._f).navigationGroups,o=t||a||n,d=!!o,c=!!r;return t?e=tB:a?e=tE:n&&(e=tD),(0,i.useEffect)(()=>{let e=I()({menuHasNavigation:d,menuHasNavigationSecondary:c}).split(" ").filter(Boolean);return document.body.classList.add(...e),()=>document.body.classList.remove(...e)},[d,c]),d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:I()(tq().navigation,{[tq().isAdaptive]:c}),"data-sticky-head":"true",children:(0,s.jsx)(eA.default,{maxWidth:"x-large",children:(0,s.jsx)(e,{navigation:o})})}),c&&(0,s.jsx)("div",{className:I()(tq().navigation,{[tq().isSecondary]:c}),"data-sticky-head":"true",children:(0,s.jsx)(eA.default,{maxWidth:"x-large",children:(0,s.jsx)(tB,{navigation:r,isSecondary:!0})})})]})};var tP=a(64527),tH=a(31279),tU=a(12008),tG=a(12803),tz=a.n(tG),tV=a(34847),t$=a(45216),tX=a(88747),tK=a(99561),tJ=a.n(tK),tY=a(84002);let tZ=e=>{let{price:t,priceDiscounted:a=null}=e;return a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eN.default,{color:"grey",isStrikethrough:!0,children:t}),(0,s.jsx)(eN.default,{color:"red",adjacentHorizontalSpacing:"small",children:a})]}):t};var tQ=a(60283),t0=a.n(tQ);let t1=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce((e,a)=>{let{menu_item_id:s,quantity:i,modifier_items:r}=a,n=i*t;return{...e,[s]:(e[s]||0)+n,...r&&t1(r,n,e)}},a)},t4=e=>{let{id:t,itemId:a,name:i,price:r,priceDiscounted:n=null,quantity:o,modifierItems:d=[],modifiersList:c=null,decrementActionUrl:u,incrementActionUrl:p,backupStrategies:m=null,offerText:h}=e,{setBackupStrategyId:g}=T(),{isLoading:x,handleUpdateItemInBasket:f,getItemMaxSelectionById:b}=(0,eW.A)(),{isGuestGroupOrderMerged:k}=(0,eF.A)(),j=(0,l.d4)(b(a,{nestedItems:t1(d,o),restrictOptions:!0})),v=!!m,y=v?()=>g(a):void 0;return(0,s.jsx)(en.default,{right:(0,s.jsxs)("div",{className:t0().wrapper,children:[!k&&(0,s.jsx)(tY.A,{handleDecrement:f(t,u),handleIncrement:f(t,p,!0),isLoading:x,isIncrementDisabled:0===j,spacing:"0 small 0 0",children:(0,s.jsx)("span",{className:t0().quantity,children:o})}),(0,s.jsx)(tZ,{price:r,priceDiscounted:n})]}),left:k&&(0,s.jsxs)(eN.default,{color:"grey",children:[o,"x"]}),adjacentVerticalSpacing:"medium",children:(0,s.jsxs)(eI.A,{condition:v,wrapper:e=>(0,s.jsxs)(eL.default,{ariaLabel:m.title.text,onClick:y,children:[e,(0,s.jsx)(el.default,{size:"small",color:e5.$J[m.title.color.name],children:m.title.text})]}),children:[(0,s.jsxs)(el.default,{children:[i,m?.itemTitlePostfix&&(0,s.jsx)(eN.default,{color:e5.$J[m.itemTitlePostfix.color.name],children:m.itemTitlePostfix.text})]}),(0,s.jsx)(el.default,{size:"small",color:"grey",children:c}),(0,s.jsx)(el.default,{size:"small",color:"red",children:h})]})},t)};t4.propTypes={id:L().string.isRequired,itemId:L().string.isRequired,name:L().string.isRequired,price:L().string.isRequired,priceDiscounted:L().string,quantity:L().number.isRequired,modifierItems:L().arrayOf(L().shape({menu_item_id:L().number.isRequired,quantity:L().number.isRequired}).isRequired),modifiersList:L().string,decrementActionUrl:L().string.isRequired,incrementActionUrl:L().string.isRequired,backupStrategies:L().shape({itemTitlePostfix:L().shape({text:L().string.isRequired,color:L().shape({name:L().string.isRequired}).isRequired}),title:L().shape({text:L().string.isRequired,color:L().shape({name:L().string.isRequired}).isRequired}).isRequired}),offerText:L().string};var t5=a(10158),t6=a.n(t5);let t2=()=>{let{basketItems:e,hasBasketItems:t}=(0,eW.A)();return t?e.map(e=>{let{name:t,items:a}=e;return(0,s.jsxs)(i.Fragment,{children:[!!t&&(0,s.jsx)(tX.Ay,{label:t,adjacentVerticalSpacing:"medium"}),a.map(e=>(0,s.jsx)(t4,{...e},e.id))]},t)}):(0,s.jsxs)(eo.default,{className:t6().empty,spacing:"x-large 0 large",children:[(0,s.jsx)(ed.default,{component:tJ(),color:"light-grey",size:48}),(0,s.jsx)(el.default,{color:"light-grey",spacing:"x-small 0 0",children:D.A.gettext("partner_menu_page.basket.your_basket_is_empty.title")})]})};var t9=a(6524),t8=a(18928),t3=a(61348),t7=a(80886),ae=a(65970),at=a.n(ae);let aa=(0,t3.A)(t9.A,{source:t7.SW.RECOMMENDATIONS_CAROUSEL}),as=e=>{let{recommendedItemId:t,maxWidth:a,recommendedItemIndex:r,setUnavailableItemIds:n}=e,o=(0,ea.j)(),{getCarouselUpsellItem:d}=(0,eW.A)(),{hasError:c,menuItem:u}=(0,t8.A)(t,{withCategory:!0,itemDetailsOverride:!1}),p=(0,l.d4)(d(t));return(0,i.useEffect)(()=>{c&&n(e=>new Set(e.add(t)))},[c,t,n]),(0,i.useEffect)(()=>{p?.cp_ads_client_tracking_properties&&o((0,H.uZ)(p?.id,p?.cp_ads_client_tracking_properties))},[p]),(0,s.jsx)("div",{className:at().item,style:{maxWidth:a},children:(0,s.jsx)(aa,{trackingId:`menu_item_card_${t}`,id:t,index:r,recommendedItemIndex:r,isRecommendedCarouselCard:!0,isSponsored:p?.is_sponsored_product??!1,trackingProperties:p?.cp_ads_client_tracking_properties,customTrackingProperties:{has_image:!!u?.image,index:r,item_id:t}})})};var ai=a(14177),ar=a(6068),an=a(64933),al=a(42588),ao=a(78502),ad=a(51157);let ac=()=>{let e=(0,an.N)(an.P.MOBILE),t=(0,i.useRef)(null),[a,r]=(0,i.useState)(),[n,o]=(0,i.useState)(new Set),{hasBasketItems:d}=(0,eW.A)(),{isGuestGroupOrderMerged:c}=(0,eF.A)(),u=(0,l.d4)((0,ad.A)(ao.C.Carousel)).filter(e=>!n.has(e)),p=(0,l.d4)((0,al.A)(ao.C.Carousel)).title;return((0,i.useEffect)(()=>{let a=e?0:2*e5.oI,s=t.current?.carouselNode?.clientWidth;r(u.length>1&&s?s-a:void 0)},[e,u.length]),d&&u.length&&!c)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en.default,{spacing:"medium 0",children:(0,s.jsx)(el.default,{children:p})}),(0,s.jsx)(ai.A,{ref:t,id:"recommended-donations",centerActiveItem:!0,bounceIn:!0,children:u.map((e,t)=>(0,s.jsx)(ar.A,{children:(0,s.jsx)(as,{setUnavailableItemIds:o,recommendedItemId:e,maxWidth:a,recommendedItemIndex:t})},e))})]}):null};var au=a(10636),ap=a(53546),am=a(83934);let ah=e=>{let{appElement:t="#__next"}=e,{hasError:a,isLoading:r,orderNote:n,handleUpdateOrderNote:l}=(0,eW.A)(),[o,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(),[p,m]=(0,i.useState)(!1),[h,g]=(0,i.useState)(n||"");(0,i.useEffect)(()=>{r||a||d(!1)},[r,a]);let x=()=>{g(h),d(!1),u()},f=()=>{l(h),g(h)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en.default,{onClick:()=>d(!0),adjacentVerticalSpacing:"medium",children:(0,s.jsx)(el.default,{color:"primary-action",children:h?.length>0?D.A.gettext("partner_menu_page.basket.edit_order_notes.link"):D.A.gettext("partner_menu_page.basket.add_order_notes.link")})}),(0,s.jsxs)(am.default,{appElement:t,type:"bottomSheet",isOpen:o,onClose:x,closeButtonLabel:D.A.gettext("partner_menu_page.basket.order_notes_modal.close"),renderFooter:()=>(0,s.jsxs)(au.Ay,{children:[(0,s.jsx)(eV.default,{onClick:f,isDisabled:!!p,isLoading:r,children:D.A.gettext("partner_menu_page.action_modals.order_notes.button.primary")}),(0,s.jsx)(eV.default,{type:"secondary",onClick:x,children:D.A.gettext("partner_menu_page.action_modals.order_notes.button.secondary")})]}),children:[(0,s.jsx)(tl.default,{level:3,size:"small",children:D.A.gettext("partner_menu_page.action_modals.order_notes.title")}),(0,s.jsx)(ap.default,{type:"text",value:h,placeholder:D.A.gettext("partner_menu_page.action_modals.order_notes.placeholder.text"),label:D.A.gettext("partner_menu_page.action_modals.order_notes.subtitle"),errorMessage:c,isInvalid:!!p,onChange:e=>{let t=e.target.value;g(t),t.length>180?(u(D.A.gettext("partner_menu_page.action_modals.order_notes.max_notes_length.label(%(maxNotesLength)s)",{maxNotesLength:180})),m(!0)):(m(!1),u())},rows:5,adjacentVerticalSpacing:"medium",isRequired:!0,name:"orderNotes"}),!p&&(0,s.jsx)(el.default,{adjacentVerticalSpacing:"small",size:"x-small",color:"grey",children:D.A.gettext("partner_menu_page.action_modals.order_notes.character_count(%(characters)s)",{characters:h?.length||0})})]})]})};ah.propTypes={appElement:O.string};var ag=a(14287),ax=a(34258),af=a(76111),ab=a(42852),ak=a.n(ab),aj=a(75291),av=a.n(aj),ay=a(68325);let a_=e=>{let{appElement:t="#__next"}=e,[a,r]=(0,i.useState)(!1),{feesEducation:n,handleTrackFeesModalOpen:l,handleTrackFaqClick:o}=(0,eW.A)(),{call_to_action:d,modal:c}=n;return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(en.default,{onClick:()=>{l(d.tracking_event)(),r(!0)},adjacentVerticalSpacing:"medium",children:(0,s.jsx)(eo.default,{spacing:"0 medium",children:(0,s.jsx)(el.default,{color:"primary-action",children:d.text})})}),(0,s.jsx)(ay.A,{appElement:t,closeModal:()=>r(!1),isFeesModalOpen:a,modal:c,trackFaqClick:e=>()=>o(e)()})]})};a_.propTypes={appElement:O.string};var aS=a(81957),aw=a(79683),aA=a.n(aw),aC=a(84923),aT=a.n(aC),aR=a(30537),aB=a.n(aR);let aI=()=>{let{donations:{title:e,description:t,image_url:a,round_up:i,donate_text:r,donated_formatted_amount:n,donation_options:l},isLoading:o}=(0,eW.A)(),d=(0,ea.j)(),c=l.find(e=>{let{is_added:t}=e;return t})?.id,u=e=>()=>{let t=e===c;d((0,k.S$)(i.selected,t?null:e))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:aB().row,children:(0,s.jsxs)(en.default,{spacing:"medium 0 0",verticalAlign:"top",left:(0,s.jsx)("div",{className:aB().image,children:(0,s.jsx)(eC.default,{src:a||""})}),children:[(0,s.jsx)(el.default,{children:e}),(0,s.jsx)(el.default,{size:"small",color:"grey",children:t})]})}),(0,s.jsx)("div",{className:aB().row,children:(0,s.jsx)(en.default,{spacing:"medium 0 0",right:(0,s.jsxs)("div",{className:aB().roundUpToggle,children:[(0,s.jsx)(el.default,{spacing:"0 small 0 0",children:i.formatted_amount}),(0,s.jsx)(aS.Ay,{id:"roundUpToggle",name:"roundUpToggle",value:"roundUpToggle",isOn:i.selected,isDisabled:o,onChange:()=>{d((0,k.S$)(!i.selected,c))}})]}),children:(0,s.jsx)(el.default,{children:i.title})})}),(0,s.jsxs)("div",{className:aB().row,children:[(0,s.jsx)(en.default,{spacing:"medium 0",right:(0,s.jsx)(el.default,{children:n}),children:(0,s.jsx)(el.default,{children:r})}),(0,s.jsx)(ai.A,{id:"basket-donations",bounceIn:!0,children:l.map(e=>{let{id:t,formatted_amount:a,popular_text:i,action_text:r,is_added:n}=e;return(0,s.jsx)(ar.A,{children:(0,s.jsx)(eL.default,{onClick:u(t),isDisabled:o,shouldInvertKeyboardFocusOutline:!0,children:(0,s.jsxs)("div",{className:aB().donateOption,children:[(0,s.jsx)(eN.default,{size:"small",color:"grey",children:a}),!!i&&(0,s.jsxs)(eN.default,{size:"small",color:"orange",spacing:"0 0 0 x-small",children:["\xb7 ",i]}),(0,s.jsx)(ag.default,{component:n?aA():aT(),color:n?"red":"primary-action",size:"small",spacing:"x-small 0 0",children:r})]})})},t)})})]})]})};var aM=a(26783),aE=a(1950),aO=a.n(aE);let aL="plus-sign-up",aN=e=>{let{message:t,type:a}=e,i=a===aL?"a":"div";return(0,s.jsx)(eo.default,{spacing:"small medium 0",children:(0,s.jsxs)(i,{...a===aL?{href:"/plus?utm_source=basket+banner"}:{},className:I()(aO().banner,{[aO().isPlus]:a?.startsWith("plus")}),children:[(0,s.jsx)(eN.default,{size:"small",spacing:"0 medium 0 0",isBold:!0,children:t}),a===aL&&(0,s.jsx)(ed.default,{component:eB(),size:18}),"plus-information"===a&&(0,s.jsx)(ax.default,{isCurrentColor:!0})]})})};var aD=a(57325);let aW=()=>{let e=(0,l.d4)(aD.ml),t=(0,l.d4)(M.Wj),a=(0,l.d4)(M.JK),r=(0,ea.j)(),n="fr"===t.tld||"it"===t.tld?{variant:"conservative",copy:D.A.gettext("plus.basket.onboarding.cta.conservative")}:{variant:"default",copy:D.A.gettext("plus.basket.onboarding.cta")};return((0,i.useEffect)(()=>{var e;r((e=n.variant,{type:eh.pF,payload:{name:"Saw subscription invitation notification",properties:{cta_variant:e}}}))},[n.variant,r]),e)?(0,s.jsx)("a",{href:(0,em.IJ)(t,"/plus?utm_source=basket",a),children:(0,s.jsx)(eN.default,{color:"primary-action",children:n.copy})}):null};var aq=a(59174),aF=a(24131),aP=a.n(aF);let aH={basket:tJ(),bolt:ak(),tag:av()},aU=()=>{let{basketFeesAndTotals:{fees:e,riderTip:t,subtotal:a,total:r},hasBasketItems:n,hasRiderTipping:l,hasFeesEducation:o,hasDonations:d,tipMessage:c,isLoading:u,handleTrackBasketFeeInfoPopover:p,handleUpdateRiderTip:m,challengesLineItem:h}=(0,eW.A)(),{isGuestOnGroupOrder:g}=(0,eF.A)(),{offers:x,rewardCard:f}=(0,tV.A)();return n?(0,s.jsxs)("div",{className:I()(aP().fees,{[aP().isBreakdownHidden]:g}),children:[!g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en.default,{right:a,spacing:"0 medium",adjacentVerticalSpacing:"small",children:D.A.gettext("partner_menu_page.basket.subtotal.label")}),x?.map(e=>e.message&&s.jsxs(en.default,{spacing:"0 medium",right:!!e.subtotalBeforeDiscount&&s.jsx(eN.default,{color:"grey",size:"small",isStrikethrough:!0,children:e.subtotalBeforeDiscount}),children:[!!e.icon&&s.jsxs(s.Fragment,{children:[aH[e.icon]?s.jsx(ag.default,{component:aH[e.icon],size:"small",color:"plus"===e.style?"primary-action":"red",textColor:"grey",children:e.message}):s.jsx(eN.default,{color:"grey",size:"small",children:e.message}),!!e.restriction&&s.jsx(el.default,{color:"grey",size:"small",children:e.restriction})]}),!e.icon&&s.jsx(eN.default,{color:"grey",size:"small",children:e.message})]},e.message)),f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en.default,{spacing:"0 medium",adjacentVerticalSpacing:"small",children:(0,s.jsx)(af.Ay,{label:f.label,isRedeemed:f.redeemed,spacing:"small 0 0 0",type:f.rewards_type})}),f.exclusions_disclaimer?.length>0&&(0,s.jsx)(en.default,{spacing:"0 medium",adjacentVerticalSpacing:"small",children:(0,s.jsx)(eN.default,{color:"grey",size:"small",children:f.exclusions_disclaimer})})]}),h&&(0,s.jsx)(en.default,{spacing:"0 medium",adjacentVerticalSpacing:"small",children:(0,s.jsx)(aq.A,{...h})}),e.map(e=>{let{title:t,subtitle:a,description:r,amount:n,formatted_amount:l,formatted_amount_theme:o,formatted_strikethrough_amount:d,tooltip_viewed_tracking_event_name:c,type:u,banner:m}=e;return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)(en.default,{right:(0,s.jsxs)(aM.A,{message:r,onPopoverOpen:p(c,n),children:[d&&(0,s.jsx)(eN.default,{spacing:"0 small 0 0",isStrikethrough:!0,children:d}),(0,s.jsx)(eN.default,{color:"offer"===o?"red":"black",children:l})]}),spacing:"0 medium",adjacentVerticalSpacing:"medium",children:[t," ","SUBSCRIBED"===u&&(0,s.jsx)(ax.default,{className:aP().plusLogo,"data-testid":"plusLogo"}),"SUBSCRIBE_UPSELL"===u&&(0,s.jsx)(aW,{})]}),!!a&&(0,s.jsx)(en.default,{spacing:"0 medium",children:(0,s.jsx)(eN.default,{color:"grey",size:"small",children:a.message})}),!!m&&(0,s.jsx)(aN,{...m})]},t)}),o&&(0,s.jsx)(a_,{}),d&&(0,s.jsx)(aI,{})]}),(0,s.jsxs)("div",{className:aP().summary,children:[!g&&(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)(en.default,{right:(0,s.jsxs)("div",{className:aP().riderTip,children:[(0,s.jsx)(tY.A,{handleDecrement:m("decrease"),handleIncrement:m("increase"),isLoading:u,spacing:"0 small 0 0"}),t]}),spacing:"0 medium",adjacentVerticalSpacing:"small",children:D.A.gettext("partner_menu_page.basket.rider_tip.label")}),!!c&&(0,s.jsx)(el.default,{color:"grey",spacing:"0 medium",adjacentVerticalSpacing:"x-small",children:c})]}),(0,s.jsx)(en.default,{right:(0,s.jsx)(eN.default,{isBold:!0,children:g?a:r}),spacing:"0 medium",adjacentVerticalSpacing:"medium",children:(0,s.jsx)(el.default,{isBold:!0,children:D.A.gettext("partner_menu_page.basket.total.label")})})]})]}):null};var aG=a(58490),az=a(88070);let aV=()=>{let{backupStrategies:e,hasBackupStrategies:t}=(0,eW.A)(),{setBackupStrategyId:a}=T();if(!t)return null;let{row:{title:i,body:r,ctaText:n}}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(en.default,{right:(0,s.jsx)(eL.default,{onClick:()=>a("global"),children:(0,s.jsx)(eN.default,{color:"primary-action",children:n})}),children:[(0,s.jsx)(el.default,{children:i}),r.map(e=>{let{color:{name:t},text:a}=e;return(0,s.jsx)(el.default,{size:"small",color:e5.$J[t],children:a},a)})]}),(0,s.jsx)(az.Ay,{spacing:"medium 0 0"})]})};var a$=a(79720),aX=a(87519),aK=a(75551),aJ=a(73161);let aY=e=>{let{spacing:t="small medium"}=e,{offers:a,basketProgressBar:r}=(0,tV.A)(),{basketMetaTimers:n}=(0,aK.A)(),l=(0,aJ.A)(),o=a?.[0]?.progressBar||r?.progressBar;return((0,i.useEffect)(()=>{let e;return(()=>{if(Array.isArray(n)&&n.length>0&&n[0].endsAt&&n[0].target){let t=1e3*parseInt(n[0].endsAt,10)-Date.now();t<=0?l(n[0].target):e=setTimeout(()=>l(n[0].target),t+1e3)}})(),()=>{e&&clearTimeout(e)}},[n,l]),o)?(0,s.jsx)(aX.Ay,{spacing:t,customBarColor:o.progressBarColor?.hex,statusIcon:null,progress:o.progress,children:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eE.UILinesWithSharedTargetHandler,{lines:[o.line]}),!!o.timer&&(0,s.jsx)(eE.UILinesWithSharedTargetHandler,{lines:[o.timer]})]})}):null};var aZ=a(82517),aQ=a(86411),a0=a(96689),a1=a(10805),a4=a.n(a1);let a5=(0,t3.A)(t9.A,{source:t7.SW.RECOMMENDATIONS_MODAL}),a6=e=>{let{id:t,index:a}=e,{getFullPageUpsellItem:i}=(0,eW.A)(),{menuItem:r}=(0,t8.A)(t,{withCategory:!1,itemDetailsOverride:!1}),n=(0,l.d4)(i(t));return(0,s.jsx)(a5,{trackingId:t,customTrackingProperties:{has_image:!!r?.image,index:a,item_id:t},id:t,index:a,recommendedItemIndex:a,isRecommendedItemCard:!0,isSponsored:n?.is_sponsored_product??!1,trackingProperties:n?.cp_ads_client_tracking_properties})},a2=e=>{let{title:t,subtitle:a,isBasketRecommendationsModalOpen:r=!1,setRecommendationsModalHasBeenSeen:n,setBasketRecommendationsModalOpen:o,isCoBaskets:d}=e,c=(0,ea.j)(),{isLoading:u}=(0,eW.A)(),p=(0,l.d4)((0,ad.A)(ao.C.FullPage)),m=(0,l.d4)(aZ.Mm),g=d?m:p,[x,f]=(0,i.useState)(null),[b,k]=(0,i.useState)(!1),[v,y]=(0,i.useState)(0),[_,S]=(0,i.useState)(!1),{served_upsell_tracking_id:w}=(0,l.d4)(j.Uu),A=(0,l.d4)(e=>(0,h.iM)(e,a0.FEX_340_MULTIPLE_ITEMS_FULLSCREEN,h.lJ.FEATURE));(0,i.useEffect)(()=>{if(r){if(x){let e=!(g.length===x.length&&g.every(e=>x.includes(e)));if(e!==b&&k(e),A){let e=g.filter(e=>!x.includes(e));f([...x,...e])}g.length||o(!1)}else f(g)}},[g]),(0,i.useEffect)(()=>{r&&(y(Date.now()),c((0,H.vc)()))},[r]);let C=()=>(Date.now()-v)/1e3,T=e=>()=>{n&&n(!0),o(!1),c((0,H.gX)()),c((0,H.A4)({totalItems:g.length,sessionEndedBy:e,dwellTime:C(),didScroll:_,upsellTrackingID:w}))},R=()=>{n&&n(!0),o(!1)},B=()=>{c((0,H.n_)()),c((0,H.A4)({totalItems:g.length,sessionEndedBy:P.DJ.MAIN_CTA,dwellTime:C(),didScroll:_,upsellTrackingID:w}))},I=a?"medium large large large":"large";return(0,s.jsx)(am.default,{type:"fullscreen",appElement:"#__next",headerTitle:t,isOpen:r,onClose:T(P.DJ.CLOSE_BUTTON),closeButtonLabel:D.A.gettext("Close"),isContentEdgeToEdge:!0,renderFooter:()=>{let e=b?D.A.gettext("recommendations.review_basket.button"):D.A.gettext("recommendations.continue_to_checkout.button"),t=b?{onClickOverride:T(P.DJ.MAIN_CTA)}:{onClick:R,trackingCallback:B};return(0,s.jsxs)(tm.Ay,{flexDirection:"column",flex:1,children:[(0,s.jsx)(aY,{spacing:"0 0 medium 0"}),(0,s.jsx)(a$.A,{isDisabled:u,isLoading:u,isBlock:!0,...t,children:e})]})},children:(0,s.jsx)("div",{className:a4().content,onScroll:()=>S(!0),children:(0,s.jsxs)(eo.default,{spacing:{tablet:I,mobile:"medium"},children:[a&&(0,s.jsx)(el.default,{spacing:"0 0 medium 0",children:a}),(0,s.jsx)(aQ.A,{maxColumns:1,minColumnWidth:260,gutter:"medium",hasMobileGutter:!1,children:(A&&x?x:g).map((e,t)=>(0,s.jsx)(a6,{id:e,index:t},e))})]})})})};var a9=a(19160),a8=a(98234),a3=a(20206),a7=a(45819);let se=()=>{let e=(0,a7.M)();return(0,i.useCallback)(t=>e({type:a3.Eo,payload:{source:t}}),[e])};var st=a(40868),sa=a.n(st);let ss=()=>{let e=(0,ea.j)(),t=(0,i.useRef)(null),[a,r]=(0,i.useState)(!1),n=(0,tH.A)(36e5),{hasOfferProgressBar:o}=(0,tV.A)(),d=se(),{hasFetched:c,basketFeesAndTotals:u,basketItemsCount:p,hasBasketItems:m,hasOrderNotes:h,isLoading:g,challengesBanner:x,fullPageUpsellPresentation:f}=(0,eW.A)(),{ownerName:b,isOwnerOfGroupOrder:v,isGuestOnGroupOrder:y,isGuestGroupOrderMerged:_,handlePollBasketForGroupOrder:S,handlePollOrderStatusForGroupOrder:w}=(0,eF.A)(),[A,C]=(0,i.useState)(!1),[T,R]=i.useState(!1),[B,M]=i.useState(!1),E=(0,l.d4)((0,ad.A)(ao.C.FullPage)),O=l.d4(j.Uu)?.served_upsell_tracking_id,L=()=>{e((0,H.W_)(O))},N=(0,a8.V)(e=>Object.keys(e.scrollTracking[t7.SW.RECOMMENDATIONS_CAROUSEL].elements).length),W=()=>{a&&setTimeout(()=>L(),1e3),e((0,H.RF)(!a)),r(!a)};return(0,i.useEffect)(()=>{e((0,k.r0)()),e((0,a9.M)())},[]),(0,i.useEffect)(()=>{M(!!E.length),d(t7.SW.RECOMMENDATIONS_CAROUSEL)},[E.length]),(0,i.useEffect)(()=>{N>0&&L()},[N]),(0,i.useEffect)(()=>{let e=I()({basketHasItems:m,basketHasOfferProgressBar:o}).split(" ").filter(Boolean);return document.body.classList.add(...e),()=>document.body.classList.remove(...e)},[m,o]),(0,tU.A)(S,v&&!n?1e4:null),(0,tU.A)(w,_&&!n?1e4:null),(0,i.useEffect)(()=>{a&&setTimeout(()=>t.current?.focus(),0)},[a]),(0,s.jsxs)("div",{className:I()(sa().basket,{[sa().isExpanded]:a,[sa().hasBasketItems]:m,[sa().hasOfferProgressBar]:o,[sa().hasFooterNote]:_}),children:[c&&(0,s.jsxs)("div",{className:sa().content,tabIndex:"-1",ref:t,children:[(0,s.jsxs)("div",{className:sa().header,children:[(0,s.jsx)(tl.default,{level:3,size:"x-small",children:D.A.gettext("partner_menu_page.basket.your_order.title")}),(0,s.jsx)("div",{className:sa().hideBasketCta,children:(0,s.jsx)(eL.default,{ariaLabel:D.A.gettext("partner_menu_page.basket.hide"),onClick:W,children:(0,s.jsx)(ed.default,{component:tz(),color:"grey",size:18})})})]}),x&&(0,s.jsx)(t$.A,{...x,spacing:m||a?"0 medium medium":"medium"}),(0,s.jsxs)(eo.default,{spacing:"0 medium",children:[(0,s.jsx)(aV,{}),(0,s.jsx)(t2,{}),(0,s.jsx)(ac,{}),h&&m&&!y&&(0,s.jsx)(ah,{})]}),(0,s.jsx)(aU,{})]}),(0,s.jsxs)("div",{className:sa().footer,children:[m&&(0,s.jsx)(aG.A,{}),(0,s.jsxs)(eo.default,{className:sa().ctas,adjacentVerticalSpacing:"medium",children:[(0,s.jsx)("div",{className:sa().checkoutCta,children:_?(0,s.jsx)(en.default,{secondary:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(el.default,{size:"small",color:"grey",children:D.A.gettext("partner_menu_page.group_ordering.basket.status.line_one")}),(0,s.jsx)(el.default,{size:"small",color:"grey",adjacentVerticalSpacing:"small",children:D.A.gettext("partner_menu_page.group_ordering.basket.status.line_two(%(ownerName)s)",{ownerName:b})})]}),left:(0,s.jsx)($.default,{}),children:(0,s.jsx)(el.default,{size:"small",children:D.A.gettext("partner_menu_page.group_ordering.basket.status_title(%(ownerName)s)",{ownerName:b})})}):(0,s.jsxs)(s.Fragment,{children:[y&&m&&(0,s.jsx)(el.default,{size:"small",color:"grey",spacing:"0 0 medium",children:D.A.gettext("partner_menu_page.group_ordering.basket.merge.helper_text(%(ownerName)s)",{ownerName:b})}),(0,s.jsx)(a$.A,{isDisabled:!m,isLoading:g,isBlock:!0,onClickOverride:f.shouldDisplay&&!T&&B?()=>{L(),C(!0)}:null,trackingCallback:L,children:y?D.A.gettext("partner_menu_page.group_ordering.basket.merge.button(%(ownerName)s)",{ownerName:b}):D.A.gettext("partner_menu_page.basket.go_to_checkout.button")})]})}),(0,s.jsx)("div",{className:sa().basketCta,children:(0,s.jsx)(eV.default,{onClick:W,isBlock:!0,children:(0,s.jsxs)("div",{className:sa().wrapper,children:[(0,s.jsx)("span",{className:sa().count,children:p}),(0,s.jsx)("span",{children:y&&!_?D.A.gettext("partner_menu_page.group_ordering.basket.continue.button"):D.A.gettext("partner_menu_page.basket.view_basket.button")}),u.subtotal!==u.subtotalRawFormatted?(0,s.jsxs)("div",{className:sa().subtotal,children:[(0,s.jsx)(eN.default,{size:"x-small",isStrikethrough:!0,children:u.subtotalRawFormatted}),(0,s.jsx)(eN.default,{size:"small",isBold:!0,children:u.subtotal})]}):(0,s.jsx)("span",{children:u.subtotal})]})})})]})]}),f.shouldDisplay&&(0,s.jsx)(a2,{title:f.title,subtitle:f.allergensSubtitle,isBasketRecommendationsModalOpen:A,setBasketRecommendationsModalOpen:C,setRecommendationsModalHasBeenSeen:R})]})};var si=a(25463),sr=a.n(si),sn=a(38285),sl=a.n(sn);let so=e=>{if(e&&Object.values(tP.Eh).includes(e))return e},sd=e=>{let t=[];return Array.isArray(e)?t=e:"string"==typeof e&&(t=[e]),t},sc=()=>{let e=(0,N.useRouter)(),t=e.query.sort_by,a=sd(e.query.category_id),r=so(t),n=(0,l.d4)(j.$r),[o,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(r),p=n[0]?.header===null||n[0]?.header==="",m=n[0]?.subheader===null||n[0]?.subheader==="",h=[P.iT.DEFAULT,P.iT.PRICE_ASCENDING,P.iT.PRICE_DESCENDING],g=(0,ea.j)(),x=(0,eM.Ay)(),f=e=>{u(e),x({typeName:P.qY.SHOW_SECTION,sectionParams:[{id:"sort_by",value:[e]},{id:"category_id",value:a},{id:"source",value:["sort_by"]}]}),d(!1)},k=(e,t)=>{switch(e){case tP.Eh.PRICE_ASCENDING:return D.A.gettext("partner_menu_page.sort.price_ascending");case tP.Eh.PRICE_DESCENDING:return D.A.gettext("partner_menu_page.sort.price_descending");case tP.Eh.DEFAULT:default:return t??D.A.gettext("partner_menu_page.sort.default")}};return(0,s.jsx)("div",{className:I()(sl().sortWrapper,{[sl().sortWrapperNoHeader]:p&&m}),children:(0,s.jsxs)("div",{className:sl().sortContainer,children:[(0,s.jsx)(eV.default,{onClick:()=>{!1===o&&g((0,H.OW)()),d(!o)},type:"secondary",size:"small",label:D.A.gettext("partner_menu_page.sort.button_default"),icon:sr(),children:k(c,D.A.gettext("partner_menu_page.sort.button_default"))}),o&&(0,s.jsx)("div",{className:sl().sortLinksContainer,children:h.map(t=>{let a=(0,F.oG)((0,F.mo)(e.asPath,P.cw),(0,b.sA)([{id:"sort_by",value:[t]}]));return(0,s.jsx)("a",{href:a,onClick:e=>{e.preventDefault(),f(t)},children:k(t)},t)})})]})})};var su=a(32019),sp=a(79704),sm=a(49332),sh=a.n(sm);let sg=(0,i.memo)(e=>{let{sections:t}=e;return Array.isArray(t)?(0,s.jsxs)("div",{className:sh().basketFooter,children:[(0,s.jsx)("div",{className:sh().progressBarContainer,children:(0,s.jsx)(aY,{})}),(0,s.jsx)(sp.A,{sections:t,customRowSpacing:{startContentSpacing:"x-small medium x-small",mainContentSpacing:"twelve medium",endContentSpacing:"x-small medium x-small"}})]}):null});var sx=a(6793),sf=a(4860),sb=a(24712),sk=a(96984),sj=a(15968),sv=a(59946),sy=a.n(sv);let s_=e=>{let{actions:t,targetHandler:a}=e;return t&&t.length>0?(0,s.jsx)(s.Fragment,{children:t.map(e=>e.icon&&(0,s.jsx)(eL.default,{onClick:()=>{e.target&&a(e.target,{trackingId:e.trackingId})},spacing:"0 0 0 small",ariaLabel:e.contentDescription??void 0,children:(0,s.jsx)(e6.Ay,{...e.icon})},e.icon.name))}):null},sS=e=>{let{title:t,subtitle:a,onClick:i,actions:r}=e,n=(0,aJ.A)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:sy().desktopBasketTitle,children:(0,s.jsx)(en.default,{spacing:"small 0 medium 0",right:(0,s.jsx)(s_,{actions:r,targetHandler:n}),children:(0,s.jsx)(tl.default,{level:4,colorToken:"foreground-neutral-intense-on-elevation-base",children:t})})}),(0,s.jsxs)("div",{className:sy().basketHeader,children:[(0,s.jsxs)("div",{className:sy().headerDetails,children:[(0,s.jsx)(el.default,{isBold:!0,size:"small",colorToken:"foreground-neutral-intense-on-elevation-base",children:t}),(0,s.jsx)("div",{className:sy().mobileBasketTrashIcon,children:(0,s.jsx)(s_,{actions:r,targetHandler:n})}),(0,s.jsx)(eo.default,{spacing:"x-small 0 0 0",children:(0,s.jsx)(el.default,{size:"x-small",colorToken:"foreground-neutral-intense-on-elevation-base",children:a})})]}),(0,s.jsx)("div",{className:sy().hideBasketCta,children:(0,s.jsx)(eL.default,{ariaLabel:D.A.gettext("partner_menu_page.basket.hide"),onClick:()=>{i()},children:(0,s.jsx)(ed.default,{component:tz(),color:"primary-action",colorToken:"foreground-action-subtle-on-elevation-base",size:24})})})]})]})};var sw=a(49064),sA=a.n(sw);let sC=e=>{let{isLoading:t=!1}=e;return(0,s.jsxs)("div",{className:sA().container,children:[(0,s.jsxs)(eo.default,{className:sA().empty,spacing:"medium 0 x-large 0",children:[(0,s.jsx)(ed.default,{component:tJ(),color:"light-grey",colorToken:"foreground-neutral-normal-on-elevation-base",size:48}),(0,s.jsx)(el.default,{color:"light-grey",colorToken:"foreground-neutral-normal-on-elevation-base",spacing:"x-small 0 small 0",children:D.A.gettext("partner_menu_page.basket.your_basket_is_empty.title")})]}),(0,s.jsx)(eV.default,{isDisabled:!0,isBlock:!0,spacing:"0 0 medium 0",isLoading:t,children:D.A.gettext("partner_menu_page.basket.go_to_checkout.button")})]})};var sT=a(95641),sR=a.n(sT),sB=a(37013),sI=a(29557),sM=a(56108),sE=a(86893),sO=a.n(sE);let sL=e=>{let{editBasketItemId:t}=e,a=(0,ea.j)(),{basket:r}=(0,l.d4)(aZ.cE),{openMenuItemModal:n}=(0,V.A)(),{modifiers:o,quantity:d}=(0,l.d4)(aZ.os),c=(0,l.d4)((0,aZ.T0)(o)),u=r.meta?.basket.items,p=r.meta?.basket.itemBackupStrategyLabels,m=u?.find(e=>e.legacyId===t),h=(0,l.d4)((0,j.Jp)(m?.menuItemDrnId)),g=h?.modifierGroupIds||[],{variableMeasurementUnit:x,variableMeasurementIncrement:f}=(0,b.Db)(h?.variableMeasurement),k=g.length>0,[v,y]=(0,i.useState)(m?.quantity||0),[_,S]=(0,i.useState)(m?.backupStrategy||void 0),w=m?.availableBackupStrategies,A=w&&w.length>0&&p?.filter(e=>w.includes(e.id)),C=(0,l.d4)((0,aZ.KY)(m?.menuItemLegacyId||"",{nestedItems:(0,sM.Ax)((0,sI.Tn)(m?.modifierItems||[]),v),restrictOptions:!0})),T=null!==C&&m?.quantity!==void 0&&!(v-m?.quantity<C),R=(0,i.useCallback)(()=>{a((0,sf.f6)(null))},[a]);if((0,i.useEffect)(()=>{d&&y(d)},[d]),null===t||void 0===m)return null;let B=o||(0,sI.jO)((0,sI.Tn)(m.modifierItems)),I=!!o,M=I||!!m.quantity&&m.quantity!==v||m?.backupStrategy!==_,E=()=>{m.quantity&&a((0,sf.nz)(t,!1,B,v,_)),R()},O=e=>()=>y(v+e);return(0,s.jsx)(am.default,{appElement:"body",type:"bottomSheet",headerTitle:m.name,isOpen:null!==t&&void 0!==m,onClose:R,closeButtonLabel:D.A.gettext("partner_menu_page.action_modal.close"),onBack:()=>{a((0,sf.QN)(t)),R()},onBackIconOverride:(0,s.jsx)(ed.default,{color:"red",component:sR()}),backButtonLabel:D.A.gettext("address.fields.search.delete.button"),renderFooter:()=>(0,s.jsx)(eV.default,{label:D.A.gettext("basket_edit_update"),isBlock:!0,isDisabled:!M,onClick:E,children:D.A.gettext("basket_edit_update")}),hasOverflow:!0,children:(0,s.jsxs)("div",{className:sO().modalContent,children:[(0,s.jsxs)("div",{className:sO().centeredContent,children:[k&&(0,s.jsxs)(eo.default,{spacing:"0 0 medium 0",children:[I?(0,s.jsx)(eo.default,{spacing:"0 0 medium 0",children:c?.map((e,t)=>s.jsx(el.default,{adjacentVerticalSpacing:"x-small",color:"grey",children:e.name},String(t)))}):m?.modifierItems.length>0?(0,s.jsx)(eo.default,{spacing:"0 0 medium 0",children:m?.modifierItems.map((e,t)=>s.jsx(el.default,{adjacentVerticalSpacing:"x-small",color:"grey",children:e.name},String(t)))}):null,(0,s.jsx)(eV.default,{type:"secondary",onClick:()=>n(m.menuItemLegacyId,"","menu",void 0,!1,(0,sI.Tn)(m.modifierItems),v),children:D.A.gettext("basket_edit_customise_item")})]}),(0,s.jsxs)(eo.default,{spacing:"x-large 0",className:sO().quantityControlWrapper,children:[(0,s.jsx)("div",{className:sO().quantityControl,children:(0,s.jsx)(tY.A,{iconSize:36,handleDecrement:O(-1),handleIncrement:O(1),isDecrementDisabled:0===v,isIncrementDisabled:T,isSpacedEvenly:!0,children:(0,s.jsx)(eN.default,{isBold:!0,children:(0,s.jsxs)("span",{className:sO().quantity,children:[(0,b.o4)(v*f),x]})})})}),T&&(0,s.jsx)(eo.default,{spacing:"small 0 0 0",children:(0,s.jsx)(el.default,{color:"orange",children:D.A.gettext("partner_menu_page.item_limit_reached.label")})})]})]}),A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eo.default,{spacing:"medium 0",children:(0,s.jsx)(tl.default,{level:4,colorToken:"foreground-neutral-intense-on-elevation-base",children:D.A.gettext("unavailable_items.basket.item.slide_up.title")})}),(0,s.jsx)("div",{className:sO().backupStrategyOptions,children:(0,s.jsx)(eo.default,{spacing:"x-small 0",children:A.map((e,t)=>(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(sB.Ay,{name:e.id,value:e.id,type:"radio",onChange:()=>S(e.id),isChecked:_===e.id,spacing:"small medium",children:e.label}),t!==A.length-1&&(0,s.jsx)(az.Ay,{spacing:"0 0 0 medium"})]},e.id))})})]}):null]})})};var sN=a(40016),sD=a.n(sN);let sW=(0,i.memo)(e=>{let{basket:t,editBasketItemId:a,isExpanded:i,handleToggleExpanded:r,basketLength:n,setExpanded:l,isLoading:o,elementRef:d}=e;if(void 0===n||0===n){if(!1===i)return(0,s.jsx)(sC,{isLoading:o});l(!1)}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{ref:d,className:sD().basketContents,children:[t?.header&&(0,s.jsx)(sS,{title:t.header.title,subtitle:t.header.subtitle,onClick:r,actions:t.header.actions}),(0,s.jsx)(eo.default,{spacing:{mobile:"0 medium small medium",desktop:"0 0 small"},children:!!t?.sections&&(0,s.jsx)(sp.A,{sections:t.sections})})]}),a&&(0,s.jsx)(sL,{editBasketItemId:a})]})});var sq=a(30702),sF=a.n(sq);let sP=e=>{let{isLoading:t,handleToggleExpanded:a,isExpanded:i,basket:r}=e,{hasDiscounts:n,basketItemsCountToDisplay:o}=(0,aK.A)(),{shouldHideViewBasketButtonStrikethroughPrice:d}=(0,l.d4)(j.nV)||{},c=n&&!d;return(0,s.jsx)(eo.default,{adjacentVerticalSpacing:"medium",children:(0,s.jsxs)("div",{className:I()(sF().viewMobileBasketButton,{[sF().isExpanded]:i}),children:[(0,s.jsx)(aY,{spacing:"0 0 medium 0"}),(0,s.jsx)(eV.default,{onClick:a,isBlock:!0,size:n?"small":"medium",children:(0,s.jsxs)("div",{className:I()(sF().buttonContentWrapper,{[sF().hasDiscounts]:n}),children:[(0,s.jsx)("span",{className:sF().basketItemCount,children:o}),t?(0,s.jsx)($.default,{size:18,type:"inverted"}):(0,s.jsx)(el.default,{color:"white",isBold:!0,children:D.A.gettext("partner_menu_page.basket.view_basket.button")}),(0,s.jsxs)("div",{className:sF().basketSubtotal,children:[c&&(0,s.jsx)(eN.default,{size:"x-small",isStrikethrough:!0,color:"white",children:r?.meta?.basket?.subtotalBeforeDiscounts.formatted}),(0,s.jsx)(el.default,{size:n?"small":"regular",color:"white",isBold:!0,children:r?.meta?.basket?.subtotalFormatted})]})]})})]})})};var sH=a(1129),sU=a.n(sH);let sG=()=>{let e=(0,ea.j)(),{loading:t,basket:a,editBasketItemId:r,isUpsellModalOpen:n}=(0,l.d4)(aZ.cE),o=(0,l.d4)(aZ.Rq),d=(0,l.d4)(aZ.SB),[c,u]=(0,i.useState)(!1),{id:p}=(0,l.d4)(j.W8),m=(0,i.useRef)(null),h=(0,v.vz)(),{inView:g}=(0,sb.A)(h,m),x=se(),f=(0,a8.V)((0,sx.vE)(t7.SW.RECOMMENDATIONS_CAROUSEL)),b=(0,l.d4)(aZ.V5),k=()=>{f>0&&e((0,H.W_)(b))};(0,su.A)(l.d4(aZ.cD)?.map(e=>{let{menuItemLegacyId:t}=e;return t})||[]),(0,i.useEffect)(()=>{e(sf.$Z)},[e,p]),(0,i.useEffect)(()=>{k()},[f,b]),(0,i.useEffect)(()=>{g&&e(sk.mv)},[e,a.meta?.requestUUID]);let y=(0,i.useCallback)(()=>{c&&setTimeout(()=>k(),1e3),u(!c),x(t7.SW.RECOMMENDATIONS_CAROUSEL)},[c]);return(0,i.useEffect)(()=>{e((0,sf.mW)(!1))},[p]),(0,s.jsxs)(s.Fragment,{children:[t&&void 0!==o&&(0,s.jsx)("div",{className:I()(sU().loadingOverlay,{[sU().mobileViewNotExpanded]:!c}),children:(0,s.jsx)($.default,{size:24})}),(0,s.jsx)("div",{className:I()({[sU().mobileBasketLoadingOverlay]:t&&void 0!==o&&c})}),(0,s.jsxs)("div",{className:I()(sU().basket,{[sU().isLoading]:t&&void 0!==o,[sU().isExpanded]:c,[sU().isEmptyState]:void 0===o||0===o}),children:[(0,s.jsx)(sW,{elementRef:m,basket:a,editBasketItemId:r,isExpanded:c,handleToggleExpanded:y,basketLength:o,setExpanded:u,isLoading:t}),void 0!==o&&o>0&&(0,s.jsx)("div",{className:I()(sU().basketFooter,{[sU().isExpanded]:c}),children:a?.footer?.sections&&(0,s.jsx)(sg,{sections:a.footer.sections})})]}),void 0!==o&&o>0&&(0,s.jsx)(sP,{isLoading:t,handleToggleExpanded:y,isExpanded:c,basket:a}),d&&(0,s.jsx)(sj.A,{...d}),n&&(0,s.jsx)(a2,{title:a?.meta?.fullPageUpsell?.presentation?.title,subtitle:a?.meta?.fullPageUpsell?.presentation?.allergensSubtitle,isBasketRecommendationsModalOpen:n,setBasketRecommendationsModalOpen:()=>{k(),e((0,sf.DV)())},isCoBaskets:!0})]})};var sz=a(98228),sV=a(12340),s$=a(11251),sX=a.n(s$);let sK=e=>{let{showToggle:t}=e,a=(0,ea.j)(),[r,n]=(0,i.useState)(!1),o=(0,l.d4)(aZ.a$),{hasLoaded:d}=(0,sz.A)(),{isGroupOrder:c}=(0,eF.A)();return(0,i.useEffect)(()=>{d&&c?(a((0,sf.ET)(!1)),n(!0)):n(!1)},[a,c,d]),t&&(0,s.jsxs)("div",{className:sX().newBasketToggleContainer,children:[(0,s.jsx)(aS.Ay,{id:"newBasketToggle",name:"newBasketToggle",value:"newBasketoggle",isOn:o,isDisabled:r,onChange:e=>{a((0,sf.ET)(e)),localStorage?.setItem(sV.uK,JSON.stringify(e))},spacing:"0 small 0 0"}),(0,s.jsxs)("div",{className:sX().newBasketToggleText,children:[(0,s.jsx)(el.default,{size:"regular",colorToken:"foreground-neutral-intense-on-elevation-base",children:"Employee Basket beta"}),(0,s.jsx)("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSd_AchvZqE8fkjLWBkjpFWW98Fgko9af186GR7jZr_hl9v6Yg/viewform",children:(0,s.jsx)(el.default,{color:"primary-action",colorToken:"foreground-action-normal-on-elevation-base",size:"small",children:"Leave feedback"})})]})]})};var sJ=a(52391);let{Sentry:sY,captureException:sZ}=(0,u.A)(),sQ=e=>{let{appElement:t="#__next"}=e,a=(0,ea.j)(),r=(0,l.d4)(aZ.yD),n=(0,l.d4)(aZ.a1),o=!!(0,l.d4)(aZ.SB),[d,u]=(0,i.useState)(!1),p=!!r,m=(0,l.d4)(j.W8),[g,x]=(0,i.useState)(!1),f=(0,l.d4)(e=>(0,h.L4)(e,c.BASKET_FALLBACK_ENABLED));return(0,i.useEffect)(()=>{o&&!f&&u(!0)},[o,f]),(0,i.useEffect)(()=>{p&&(x(!0),f&&(a((0,sf.ET)(!1)),a((0,sk.fP)(m?.id,n,JSON.stringify(r,null,2)))),sY.withScope(e=>{e.setTag("co-basket",!0),e.setExtra("error_data",JSON.stringify(r)),r?.network?.errors?.forEach(e=>{let{message:t,extensions:a}=e;a?.reason?sZ(Error(a.reason)):t&&sZ(Error(t))})}))},[p,a,r,f,m?.id,n]),!d&&(0,s.jsx)(sJ.A,{appElement:t,handleCloseModal:()=>x(!1),isModalOpen:g})};var s0=a(61554),s1=a.n(s0);let s4=e=>{let{menuRef:t}=e,a=(0,l.d4)(j.$r),i=(0,l.d4)((0,j.BG)(tP.KH.SORT_BY)),r=(0,l.d4)(j.uu),n=(0,l.d4)(aZ.a$),o=(0,l.d4)(aZ.g5),d=(0,l.d4)(aD.$Y),{hasLoaded:c,newBasketFeatureEnabled:u}=(0,sz.A)();return(0,s.jsx)("div",{id:"menu-layout-container",className:s1().layout,children:(0,s.jsx)(eA.default,{maxWidth:"x-large",children:(0,s.jsx)(eA.default,{fullWidth:"mobile-only",maxWidth:"x-large",children:(0,s.jsxs)("div",{className:I()(s1().content,s1().wideBasket),children:[(0,s.jsxs)("main",{ref:t,className:s1().menu,children:[(0,s.jsxs)("div",{className:s1().topContainer,children:[(0,s.jsx)(sK,{showToggle:u&&d&&o}),!!(i&&r)&&(0,s.jsx)("div",{className:s1().menuSort,children:(0,s.jsx)(sc,{})})]}),(0,s.jsx)(sQ,{}),(0,s.jsx)(X.A,{layouts:a})]}),(0,s.jsx)("aside",{className:I()(s1().basket,{[s1().newBasket]:n}),children:c&&(n?(0,s.jsx)(sG,{}):(0,s.jsx)(ss,{}))})]})})})})};s4.propTypes={menuRef:L().object};var s5=a(18735),s6=a(28176),s2=a.n(s6);let s9=()=>{let{footerBanner:e}=(0,l.d4)(j._f);return((0,i.useEffect)(()=>{let t=I()({menuHasFooterBanner:e}).split(" ").filter(Boolean);return document.body.classList.add(...t),()=>document.body.classList.remove(...t)},[e]),e)?(0,s.jsx)("div",{className:s2().banner,children:(0,s.jsx)(s5.Ay,{type:"info",children:(0,s.jsx)(eE.UILinesWithMenuTargetHandler,{lines:e.lines})})}):null};var s8=a(64789),s3=a(89303);let s7=()=>{let e=(0,ea.j)(),t=(0,l.d4)(j.MY);return(0,i.useEffect)(()=>{t||e((0,s8.Oo)())},[e,t]),(0,s.jsx)(s3.default,{searchType:"basket",trackingPage:"Menu Page",isModal:!0})};var ie=a(24682),it=a(97143),ia=a.n(it);let is=e=>{let{appElement:t="#__next"}=e,{layoutGroup:a,setLayoutView:i}=(0,_.M)(),{header:r,subheader:n,layouts:l}=a;return(0,s.jsx)(am.default,{appElement:t,type:"fullscreen",headerTitle:r||void 0,onClose:()=>i(null),closeButtonLabel:D.A.gettext("partner_menu_page.header_info_row_modal.close"),isContentEdgeToEdge:!0,isOpen:!0,children:(0,s.jsxs)("div",{className:ia().content,children:[!!n&&(0,s.jsx)(el.default,{spacing:"0 medium large",children:n}),(0,s.jsx)(X.A,{layouts:l})]})})};var ii=a(68336),ir=a(14318);let il=(e,t)=>t&&e.priceDiscounted||e.price,io=(e,t)=>e.reduce((e,a)=>{let{price:s,orders:i,hasItemUnavailable:r}=e,{available:n}=a,{fractional:l}=il(a,t);return{price:n?s+l:s,hasItemUnavailable:r||!n,orders:{...i,[a.orderItemId]:{...a,reorder:n}}}},{price:0,orders:{},hasItemUnavailable:!1}),id=e=>Object.values(e).reduce((e,t)=>{let{id:a,orderItemId:s,modifiers:i,reorder:r}=t;return r&&e.push({item_id:a,unavailable_item_ids:i.reduce((e,t)=>{let{id:a,available:s}=t;return s?e:[...e,a]},[]),chosen_modifier_ids:i.reduce((e,t)=>{let{id:a,available:s}=t;return s?[...e,a]:e},[]),order_item_id:s}),e},[]),ic=e=>e?(0,s.jsx)(eo.default,{spacing:"x-small 0 medium",children:e.map(e=>{let{id:t,name:a,available:r,nutritionalInfo:n}=e;return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(eN.default,{color:"grey",colorToken:"foreground-neutral-normal-on-elevation-base",size:"small",isStrikethrough:!r,isBlock:!0,children:a}),!!n?.energyFormatted&&(0,s.jsx)(eN.default,{color:"grey",colorToken:"foreground-neutral-normal-on-elevation-base",size:"small",isStrikethrough:!r,isBlock:!0,children:n.energyFormatted})]},t)})}):null,iu=(e,t,a,i)=>i&&a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eN.default,{color:"red",colorToken:"foreground-critical-normal-on-elevation-base",spacing:"0 small 0 0",children:i.formatted}),(0,s.jsx)(eN.default,{isStrikethrough:!0,color:"light-grey",colorToken:"foreground-neutral-subtle-on-elevation-base",children:t.formatted})]}):(0,s.jsx)(eN.default,{color:e?"grey":"light-grey",colorToken:e?"foreground-neutral-normal-on-elevation-base":"foreground-neutral-subtle-on-elevation-base",children:t.formatted}),ip=e=>{let{appElement:t="#__next",id:a,items:r}=e,{setReorderModalId:n}=(0,S.Vp)(),{isLoading:o}=(0,eW.A)(),{menuDisabled:d}=(0,l.d4)(j.W8),{order:c,update:u,formattedPrice:p,addToBasket:m,selectionEmpty:h,hasItemUnavailable:g,showDiscountedPrices:x}=function(e,t){let{hasReachedOfferMOV:a}=(0,tV.A)(),s=(0,ir.A)(),{price:r,orders:n,hasItemUnavailable:l}=io(t,a),[o,d]=(0,i.useState)(n),[c,u]=(0,i.useState)(r),p=(0,ea.j)(),m=c/100,h=0===m,g=s(m);return{order:o,update:(e,t)=>{let s=o[t],i=!s.reorder;u(e=>{let{fractional:t}=il(s,a);return e+t*(i?1:-1)}),d(e=>({...e,[t]:{...s,reorder:!s.reorder}}))},price:m,formattedPrice:g,addToBasket:()=>p((0,k.DK)(e,id(o))),selectionEmpty:h,hasItemUnavailable:l,showDiscountedPrices:a}}(a,r),f=()=>n(null),b=async()=>{await m(),f()};return(0,s.jsxs)(am.default,{type:"fullscreen",headerTitle:D.A.gettext("partner_menu_page.reorder.order_again_label"),renderFooter:()=>(0,s.jsx)(eV.default,{isDisabled:d||h,isLoading:o,onClick:b,isBlock:!0,children:h?D.A.gettext("partner_menu_page.reorder.cta_nothing_selected"):D.A.gettext("partner_menu_page.action_modal.item.add_for_label(%(price)s)",{price:p})}),isOpen:!0,appElement:t,onClose:f,closeButtonLabel:D.A.gettext("Close"),children:[g&&(0,s.jsx)(eo.default,{spacing:"0 0 large",children:(0,s.jsx)(eN.default,{color:"grey",colorToken:"foreground-neutral-normal-on-elevation-base",children:D.A.gettext("partner_menu_page.reorder.some_items_sold_out_label")})}),(0,s.jsx)("ul",{children:Object.values(c).map(e=>{let{orderItemId:t,name:a,quantity:i,modifiers:r,available:n,reorder:l,price:o,priceDiscounted:c,nutritionalInfo:p}=e,m=n?"inherit":"light-grey",h=n?"foreground-neutral-normal-on-elevation-base":"foreground-neutral-subtle-on-elevation-base";return(0,s.jsx)("li",{children:(0,s.jsx)(sB.Ay,{verticalAlign:"top",name:"item[]",value:t,type:"checkbox",isChecked:l,isDisabled:d||!n,onChange:u,children:(0,s.jsxs)(en.default,{left:(0,s.jsxs)(eN.default,{color:m,colorToken:h,children:[i,"x"]}),right:iu(n,o,x,c),secondary:ic(r),verticalAlign:"top",children:[(0,s.jsx)(eN.default,{color:m,colorToken:h,children:a}),!!p?.energyFormatted&&(0,s.jsx)(eN.default,{color:m,colorToken:h,isBlock:!0,children:p.energyFormatted})]})})},t)})})]})},im=e=>{let{appElement:t="#__next"}=e,{error:a}=(0,eW.A)(),r=!!a.messages,[n,l]=(0,i.useState)(r);return(0,i.useEffect)(()=>{r&&l(!0)},[r]),(0,s.jsx)(sJ.A,{appElement:t,handleCloseModal:()=>l(!1),isModalOpen:n})};var ih=a(21667),ig=a.n(ih);let ix=e=>{let{appElement:t="#__next"}=e,a=(0,ea.j)(),{shareUrl:r,hasGroupOrderOwnerModal:n}=(0,eF.A)(),[l,o]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1),u=()=>o(!1),p=()=>{c(!0),a((0,H.of)("modal"))};return(0,i.useEffect)(()=>{n&&o(!0)},[n]),(0,s.jsx)(am.default,{appElement:t,type:"bottomSheet",closeButtonLabel:D.A.gettext("partner_menu_page.menu.modal.close"),onClose:u,isOpen:l,renderFooter:()=>(0,s.jsx)(eV.default,{type:"secondary",onClick:u,isBlock:!0,children:D.A.gettext("partner_menu_page.group_ordering.modal.close_button")}),children:(0,s.jsxs)("div",{className:ig().content,children:[(0,s.jsxs)("div",{className:ig().head,children:[(0,s.jsx)(tl.default,{level:3,spacing:"large 0 small",colorToken:"foreground-neutral-intense-on-elevation-base",children:D.A.gettext("partner_menu_page.group_ordering.modal.heading")}),(0,s.jsx)(el.default,{colorToken:"foreground-neutral-intense-on-elevation-base",children:D.A.gettext("partner_menu_page.group_ordering.modal.body")})]}),(0,s.jsx)(ap.default,{label:D.A.gettext("partner_menu_page.group_ordering.modal.url_input.label"),name:D.A.gettext("partner_menu_page.group_ordering.modal.url_input.label"),value:r,readOnly:!0,extraContent:()=>(0,s.jsx)(eo.default,{spacing:{mobile:"small 0 0",tablet:"0 0 0 small"},children:(0,s.jsx)(e3.CopyToClipboard,{text:r,onCopy:p,children:(0,s.jsx)(eV.default,{icon:d?tt():void 0,label:D.A.gettext("partner_menu_page.group_ordering.modal.copy.button"),isBlock:!0,children:!d&&D.A.gettext("partner_menu_page.group_ordering.modal.copy.button")})})}),spacing:"large 0 0"})]})})};var ib=a(79050),ik=a.n(ib),ij=a(3656),iv=a.n(ij),iy=a(63550),i_=a.n(iy);let iS=e=>{let{appElement:t="#__next"}=e,{ownerName:a,hasGroupOrderGuestModal:r,isLoading:n,setGroupOrderGuestModal:o,handleLeaveGroupOrder:d,handleUpdateNameForGroupOrder:c}=(0,eF.A)(),{name:u}=(0,l.d4)(j.W8),p=(0,l.d4)(aD.eP),[m,h]=(0,i.useState)(""),[g,x]=(0,i.useState)(!1),f=()=>o(!1),b=()=>{m?c(m):x(!0)};return(0,s.jsx)(am.default,{appElement:t,type:"bottomSheet",closeButtonLabel:D.A.gettext("partner_menu_page.menu.modal.close"),onClose:f,renderFooter:()=>(0,s.jsxs)(au.Ay,{hasLargePrimaryAction:!0,children:[(0,s.jsx)(eV.default,{onClick:p?f:b,isLoading:n,children:D.A.gettext("partner_menu_page.group_ordering.guest_modal.view_button")}),(0,s.jsx)(eV.default,{type:"secondary",onClick:d,isLoading:n,children:D.A.gettext("partner_menu_page.group_ordering.guest_modal.cancel_button")})]}),isOpen:r,children:(0,s.jsxs)("div",{className:i_().content,children:[(0,s.jsxs)("div",{className:i_().head,children:[(0,s.jsx)(tl.default,{level:3,spacing:"large 0 small",children:D.A.gettext("partner_menu_page.group_ordering.guest_modal.title(%(ownerName)s)",{ownerName:a})}),(0,s.jsx)(el.default,{children:D.A.gettext("partner_menu_page.group_ordering.guest_modal.body(%(ownerName)s)",{ownerName:a})})]}),(0,s.jsx)(el.default,{spacing:"large 0 medium",isBold:!0,children:D.A.gettext("partner_menu_page.group_ordering.guest_modal.order_details.heading")}),(0,s.jsx)(ag.default,{component:ik(),gap:"small",color:"light-grey",textColor:"black",children:D.A.gettext("partner_menu_page.group_ordering.guest_modal.order_details.restaurant(%(restaurantName)s)",{restaurantName:u})}),(0,s.jsx)(ag.default,{component:iv(),gap:"small",color:"light-grey",textColor:"black",spacing:"medium 0 0",children:D.A.gettext("partner_menu_page.group_ordering.guest_modal.order_details.basket_owner(%(ownerName)s)",{ownerName:a})}),!p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(el.default,{spacing:"large 0 0",isBold:!0,children:D.A.gettext("partner_menu_page.group_ordering.guest_modal.your_details.heading")}),(0,s.jsx)(ap.default,{label:D.A.gettext("partner_menu_page.group_ordering.guest_modal.your_details.name"),name:D.A.gettext("partner_menu_page.group_ordering.guest_modal.your_details.name"),value:m,placeholder:D.A.gettext("partner_menu_page.group_ordering.guest_modal.your_details.name.placeholder_text"),helpMessage:D.A.gettext("partner_menu_page.group_ordering.guest_modal.your_details.name.helper_text"),errorMessage:D.A.gettext("partner_menu_page.group_ordering.guest_modal.your_details.name.error_message"),onChange:e=>{let{target:{value:t}}=e;g&&x(!1),h(t)},isInvalid:g,spacing:"medium 0 0"})]})]})})};var iw=a(93180);let iA=e=>{let{appElement:t="#__next"}=e,a=(0,ea.j)(),{isLoading:r}=(0,eW.A)(),{setBackupStrategyId:n,showBackupStrategyModal:l,backupStrategies:o,title:d,ctaText:c,updateBackupStrategyUrl:u,itemId:p}=T(),[m,h]=(0,i.useState)(),g=()=>{n(null),h(void 0)},x=async()=>{m&&await a((0,k.vE)(m,u,p)),g()};return l?(0,s.jsxs)(am.default,{appElement:t,type:"bottomSheet",closeButtonLabel:D.A.gettext("partner_menu_page.menu.modal.close"),onClose:g,isOpen:!0,renderFooter:()=>(0,s.jsx)(eV.default,{isLoading:r,onClick:x,isBlock:!0,children:c}),children:[(0,s.jsx)(tl.default,{level:2,size:"small",spacing:"0 0 medium 0",children:d}),(0,s.jsx)(eo.default,{spacing:"small 0",children:o?.map((e,t)=>{let{id:a,title:r,selected:n}=e;return s.jsxs(i.Fragment,{children:[s.jsx(iw.Ay,{name:a,label:r,value:a,onChange:()=>h(a),isChecked:n&&!m||m===a,isBlock:!0,hasLabelBefore:!0}),t!==o.length-1&&s.jsx(az.Ay,{spacing:"small 0"})]},a)})})]}):null},iC=e=>{let{appElement:t="#__next",onClose:a=()=>void 0}=e,{title:i,message:r,eventType:n}=(0,l.d4)(j.Eo),{setAcknowledgedBasketBlock:o}=(0,eS.k)(),d=(0,ea.j)();return(0,s.jsxs)(am.default,{appElement:t,type:"bottomSheet",isOpen:!0,onClose:()=>{a(),d((0,H.tk)(n))},closeButtonLabel:D.A.gettext("menu.allergen_warning.button.back"),renderFooter:()=>(0,s.jsxs)(au.Ay,{adjacentVerticalSpacing:"small",children:[(0,s.jsx)(a$.A,{showBasketBlockConfirmation:!1,onClick:()=>o(!0),trackingCallback:()=>d((0,H.tW)(n)),children:D.A.gettext("partner_menu_page.basket_modal.continue_to_checkout.button")}),(0,s.jsx)(eV.default,{type:"secondary",onClick:()=>{a(),d((0,H.tk)(n,"Back to menu"))},children:D.A.gettext("menu.allergen_warning.button.back")})]}),children:[(0,s.jsx)(tl.default,{level:2,size:"small",children:i}),r?.split("\n").map((e,t)=>s.jsx(el.default,{spacing:"medium 0 0",children:e},`${e}-${t}`))]})};iC.propTypes={appElement:L().string,onClose:L().func};var iT=a(12486),iR=a.n(iT);let iB=e=>{let{appElement:t="#__next",onClose:a=()=>void 0}=e,{checkoutHref:i,handleUpdateRiderTip:r,basketFeesAndTotals:{riderTip:n,riderTipRaw:l}}=(0,eW.A)(),o=async e=>{e.preventDefault(),a(),await r("reset")(),window.location.href=i};return(0,s.jsxs)(am.default,{appElement:t,type:"bottomSheet",isOpen:!0,onClose:a,closeButtonLabel:D.A.gettext("partner_menu_page.rider_tip_modal.btn.skip"),renderFooter:()=>(0,s.jsxs)(au.Ay,{hasLargePrimaryAction:!0,children:[(0,s.jsx)(a$.A,{isDisabled:0===l,children:D.A.gettext("partner_menu_page.rider_tip_modal.btn.confirm")}),(0,s.jsx)(eV.default,{type:"secondary",onClick:o,href:i,children:D.A.gettext("partner_menu_page.rider_tip_modal.btn.skip")})]}),children:[(0,s.jsx)(tl.default,{level:2,size:"small",colorToken:"foreground-neutral-intense-on-elevation-base",children:D.A.gettext("partner_menu_page.rider_tip_modal.heading")}),(0,s.jsx)(el.default,{spacing:"small 0",colorToken:"foreground-neutral-intense-on-elevation-base",children:D.A.gettext("partner_menu_page.rider_tip_modal.body")}),(0,s.jsx)("div",{className:iR().quantity,children:(0,s.jsx)(tY.A,{handleDecrement:r("decrease"),handleIncrement:r("increase"),spacing:"0 small 0 0",iconSize:24,children:(0,s.jsx)(eN.default,{isBold:!0,colorToken:"foreground-neutral-intense-on-elevation-base",children:n})})})]})};iB.propTypes={appElement:L().string,onClose:L().func};var iI=a(3149),iM=a(86288),iE=a(96872),iO=a(80978),iL=a(67745),iN=a(2668);let iD=e=>{let{onClose:t,onBack:a}=e,i=(0,ea.j)(),r=(0,N.useRouter)(),n=(0,et.Ay)(),o={fulfillmentDay:(0,l.d4)(j.tJ),fulfillmentTime:(0,l.d4)(j.Wr),fulfillmentDayOptions:(0,l.d4)(j.NH),fulfillmentTimeOptionsMap:(0,l.d4)(j.yN),withClickAndCollect:(0,l.d4)(e=>(0,h.L4)(e,c.CO_CLICK_AND_COLLECT)),isAsapUnavailable:(0,l.d4)(j.__),onFulfillmentTimeChange:(e,t)=>{let{selectedTimeParams:a}=t,s={day:a?.day,time:a?.time},{url:l,as:o,locale:d}=n.getLinkParams((0,F.oG)(r.asPath,s));return r.replace(l,o,{locale:d,shallow:!0}),Promise.all([i((0,iE.Fk)("partner page")),i((0,sf.$p)({fulfillmentTime:e,...s}))])},onOpen:()=>i((0,iE.NL)("partner page")),onClose:()=>{t(),window.scrollTo(0,0)},onBack:a,onConfirm:()=>t()};return(0,s.jsx)(iN.A,{...o})};iD.propTypes={onClose:L().func,onBack:L().func},iD.defaultProps={onClose:()=>void 0,onBack:()=>void 0};let iW="LOGISTICS",iq="FULFILLMENT_TIME",iF=e=>{let{onClose:t}=e,a=(0,ea.j)(),r=(0,N.useRouter)(),n=(0,et.Ay)(),{city:o,neighborhood:d}=(0,l.d4)(j.Lr),[u,p]=(0,i.useState)(iW),{isLoading:m}=(0,eW.A)({forceLegacyBasket:!0}),g=(0,iM.A)(m);(0,i.useEffect)(()=>{g&&!m&&window.location.reload()},[m,g]);let x={city:o,dateTimeLabel:(0,l.d4)(j.hl),neighborhood:d,postcode:(0,l.d4)(j.KQ),isChangeTimeAllowed:(0,l.d4)(j.eP),withClickAndCollect:(0,l.d4)(e=>(0,h.L4)(e,c.CO_CLICK_AND_COLLECT)),showFulfillmentSwitchControl:(0,l.d4)(j.q$),fulfillmentMethod:(0,l.d4)(j.Eq),selectedMethod:(0,l.d4)(j.Eq),availableMethods:(0,l.d4)(j.Ef),showLocationSearchModal:()=>a((0,s8.Oo)("partner page")),toggleDateTimeModal:e=>{p(iq),e&&a((0,iO.d)("partner page"))},trackViewedLogisticsControl:()=>a((0,iE.eA)("partner page")),onClose:t,onFulfillmentMethodChange:e=>{let{fulfillmentMethod:t,nextFulfillmentMethod:s}=e,{url:i,as:l,locale:o}=n.getLinkParams((0,F.oG)(r.asPath,{fulfillment_method:s}));r.replace(i,l,{locale:o,shallow:!0}),a((0,iE.Eb)({fulfillmentMethod:t,nextFulfillmentMethod:s,sourceView:"menu"})),a((0,sf.PC)(s))},selectedAddress:(0,l.d4)(iL.QR)};return(0,s.jsxs)(s.Fragment,{children:[u===iW&&(0,s.jsx)(iI.A,{...x}),u===iq&&(0,s.jsx)(iD,{onBack:()=>{p(iW)},onClose:()=>{t()}})]})};iF.propTypes={onClose:L().func},iF.defaultProps={onClose:()=>void 0};let iP={[P.uD.CONFIRMATION]:iC,[P.uD.RIDER_TIP]:iB,[P.uD.LOGISTICS_MODAL]:iF},iH=e=>{let{appElement:t="#__next"}=e,{modalType:a,setModalType:i}=(0,eS.k)();if(!a)return null;let r=iP[a];return(0,s.jsx)(r,{appElement:t,onClose:()=>i(void 0)})};iH.propTypes={appElement:L().string};var iU=a(62384),iG=a(9977),iz=a.n(iG),iV=a(3227),i$=a(15993);let iX=e=>{let{header:t,content:a,footer:i,appElement:r="#__next"}=e,n=(0,l.wA)();return(0,s.jsx)(am.default,{appElement:r,isOpen:!0,headerTitle:t,renderFooter:i,closeButtonLabel:D.A.gettext("Close"),onClose:()=>n(iV.UF),children:a})},iK=e=>{let{clientComponents:t}=e,a=(0,l.d4)(i$.dI),i=(0,tx.Ay)();if(!a)return null;let{response:r}=a;return(0,s.jsx)(iz(),{components:{...r.components,...t},pages:r.pages,Wrapper:iX,handler:(e,t)=>{e&&i(e,void 0,t)}})},iJ=n()(a.e(4302).then(a.bind(a,44302)),{loadableGenerated:{webpack:()=>[44302]},ssr:!1}),iY=n()(a.e(7214).then(a.bind(a,67214)),{loadableGenerated:{webpack:()=>[67214]},ssr:!1}),iZ=()=>(0,s.jsx)(iK,{clientComponents:{"text-input":iJ,buttons:iY}});var iQ=a(48768),i0=a(55408),i1=a(17700),i4=a(39955),i5=a(95959);let i6=e=>i$.dI(e)?.area===i5.Hn.LOYALTY_PRICING;var i2=a(21164),i9=a(94442),i8=a.n(i9),i3=a(7403),i7=a(42508),re=a(57322),rt=a.n(re);let ra=function(){let{appElement:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{appElement:"#__next"},{setMultiPartnerOrderingModal:t}=(0,w.rb)(),a=(0,ea.j)(),r=(0,l.d4)(j.v$),n=(0,l.d4)(j.HK),{layoutGroups:o}=(0,l.d4)(j.Vw);(0,i.useEffect)(()=>{a((0,k.U5)())},[]);let d=o?.[0]?.layouts||[],c=!!r||!n&&0===d.length;return(0,s.jsx)(am.default,{type:"fullscreen",appElement:e,isOpen:!0,onClose:()=>t(null),closeButtonLabel:D.A.gettext("Close"),isContentEdgeToEdge:!0,headerTitle:D.A.gettext("partner_menu_page.header_rows.bundle_items.text"),onBack:()=>{},onBackIconOverride:(0,s.jsx)(ed.default,{component:i8().InfoCircle,color:"primary-action"},"Info"),backButtonLabel:D.A.gettext("content_description_basket_info"),children:(0,s.jsxs)("div",{className:rt().container,children:[c&&(0,s.jsx)(i7.A,{heading:D.A.gettext("partner_menu_page.action_modals.looks_like_there_was_a_problem.title"),message:D.A.gettext("qr_code_page.error.fetch_order_status"),iconName:"PROBLEM_1"}),!c&&(n?(0,s.jsxs)(eo.default,{className:rt().layout,spacing:{mobile:"medium 0 0",tablet:"medium"},children:[(0,s.jsx)(el.default,{isPlaceholder:!0}),[...Array(20)].map((e,t)=>(0,s.jsx)(i3.A,{isPlaceholder:!0},t))]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(eo.default,{spacing:{mobile:"medium 0 0",tablet:"medium"},children:(0,s.jsx)(X.A,{layouts:d})})}))]})})},rs=n()(Promise.all([a.e(1585),a.e(3211),a.e(4505)]).then(a.bind(a,84505)),{loadableGenerated:{webpack:()=>[84505]},ssr:!1}),ri=n()(a.e(1733).then(a.bind(a,51733)),{loadableGenerated:{webpack:()=>[51733]},ssr:!1}),rr=()=>{let{showMenuItemModal:e,menuItemModal:t,isLoading:a,hasError:r,isSponsored:n,trackingProperties:o,preselectedModifiers:d,preselectedQuantity:c,adServeId:u}=(0,y.wX)(),{showPastOrderModal:p,pastOrder:m}=(0,S.Vp)(),{showMultiPartnerOrderingModal:h}=(0,w.rb)(),{showLayoutModal:g}=(0,_.M)(),{drnId:x}=(0,l.d4)(j.W8),f=(0,l.d4)(iQ.kF),b=(0,l.d4)(i6);return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(ie.A,{}),(0,s.jsx)(im,{}),(0,s.jsx)(ix,{}),(0,s.jsx)(iS,{}),(0,s.jsx)(s7,{}),(0,s.jsx)(i0.default,{}),(0,s.jsx)(iH,{}),(0,s.jsx)(iU.J,{}),(0,s.jsx)(i2.A,{}),(0,s.jsx)(iA,{}),(0,s.jsx)(i1.A,{useLocalStorage:!0,redirectToMenu:!1,sourceView:i4.r.MENU}),e&&(0,s.jsx)(ii.A,{...t,isSponsored:n,trackingProperties:o,trackViewedItemModal:H.Mb,trackItemAddItemModal:H.k4,preselectedModifiers:d,preselectedQuantity:c,isPlaceholder:a,hasError:r,adServeId:u}),p&&(0,s.jsx)(ip,{...m}),h&&(0,s.jsx)(ra,{}),g&&(0,s.jsx)(is,{}),f&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(rs,{partnerDrnId:x}),(0,s.jsx)(ri,{})]}),b&&(0,s.jsx)(iZ,{})]})};var rn=a(64375),rl=a(50556),ro=a(89658),rd=a(67500),rc=a(51924),ru=a(19986);let rp=e=>{switch(e){case t7.SW.HOME_FEED:return rd.aI;case t7.SW.MENU_LIST:return H.aI;default:return()=>({})}},rm=e=>{let t=(0,ea.j)(),a=(0,N.useRouter)(),s=(0,i.useRef)(null),r=a.query["item-id"],n=(0,i.useRef)(!!r),l=(0,ru.A)();(0,i.useEffect)(()=>{let a=document.body;return s.current=new MutationObserver(a=>{for(let s of a)if("class"===s.attributeName){let a=document.body.classList.contains(rc.wZ);if(r&&a)return;a&&!n.current?t(rp(e)):!a&&n.current&&l(e),n.current=a;break}}),s.current.observe(a,{attributes:!0,childList:!1,subtree:!1}),()=>{s.current?.disconnect(),s.current=null}},[t,e,r,l])},rh=()=>{let e=(0,N.useRouter)().query["item-id"],t=(0,ea.j)(),a=(0,ru.A)(),s=(0,a8.V)(e=>Object.keys(e.scrollTracking[t7.SW.MENU_LIST].elements).length);rm(t7.SW.MENU_LIST);let{setScrolledTrackingViewedItemsCount:r}=(0,ro.A)({afterPageIsHidden:()=>{document.body.classList.contains(rc.wZ)||t(H.aI)},setScrollTrackingImpressionsToLocalStorage:()=>{e||t((0,rl.en)(c.CO_MENU_SCROLL_TRACKING,H.pc,{type:a3.Eo,payload:{source:t7.SW.MENU_LIST}},t7.SW.MENU_LIST))},resetScrollTrackingImpressions:()=>a(t7.SW.MENU_LIST)});return(0,i.useEffect)(()=>{s>0&&r(s)},[r,s]),null},rg=()=>{let e=(0,i.useRef)(null),t=(0,N.useRouter)(),a=(0,l.d4)(M.Wj),r=(0,l.d4)(M.JK),{hasPageFinishedLoading:n}=(0,ew.A)();return(0,i.useEffect)(()=>{n&&setTimeout(()=>{window.scrollTo({behavior:"smooth",top:e.current?.offsetTop-(0,b.d2)()})},0)},[n]),(0,i.useEffect)(()=>{if(Object.keys(t.query).some(e=>P.ft.includes(e))){let e=(0,em.IJ)(a,t.asPath,r),s=(0,F.mo)(e,P.ft);(0,F.g_)(s)}},[t.query]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t_,{}),(0,s.jsx)(tF,{}),(0,s.jsx)(s4,{menuRef:e}),(0,s.jsx)(rn.A,{}),(0,s.jsx)(s9,{}),(0,s.jsx)(rr,{}),(0,s.jsx)(rh,{})]})};var rx=a(79945),rf=a(71395),rb=a(84163),rk=a(81681),rj=a(41208),rv=a(58634);let ry=()=>{let e=(0,l.d4)(rv.Ay.selectors.getHasCompleted),t=(0,l.d4)(rv.Ay.selectors.getData),a=(0,l.d4)(rv.Ay.selectors.getErrorMessage),i=(0,ea.j)();(0,rj.A)(()=>{i(rv.Ay.actions.assign({message:""},""))});let r=(0,rv.cD)(t)?t.message:a;return e&&r?(0,s.jsx)(s5.Ay,{type:"error",position:"bottom",autoDismiss:!0,autoDismissTimeout:1e4,children:r}):null};var r_=a(14116),rS=a(7669);let{Sentry:rw,captureException:rA}=(0,u.A)(),rC=n()(Promise.all([a.e(8660),a.e(4175),a.e(9281)]).then(a.bind(a,79281)),{loadableGenerated:{webpack:()=>[79281]},ssr:!0}),rT=n()(a.e(9926).then(a.bind(a,89926)),{loadableGenerated:{webpack:()=>[89926]},ssr:!0}),rR=n()(Promise.all([a.e(1792),a.e(4847),a.e(7173),a.e(2995)]).then(a.bind(a,57173)),{loadableGenerated:{webpack:()=>[57173]},ssr:!0}),rB=new RegExp(/^(\/\/[^/]+)?(\/[^?]+)/);class rI extends i.Component{static async getPageData(e,t,a){let s=a(),{req:i,res:r}=e,n=!!r,l=(0,M.st)(s),o=(0,j.W8)(s),d=(0,M.xe)(s),c=d?.[0]?.match(rB)?.[0],u=d?.[1]?.match(rB)?.[0],p=l?.restaurant!==o.uname;await t((0,k.Xf)(p||c!==u,{req:i,res:r})),s=a();let m=(0,h.Ht)(s),g=(0,j.qV)(s),x=m||g,f=x&&"context"in x&&x?.context.status;return(x&&rw.withScope((0,b.iV)(x,rA)),n&&f&&(r.statusCode=f),301===f)?((0,rb.V2)(r,(0,j._v)(s),f),{redirect:!0}):{}}static cleanup(e){e((0,k.tA)()),e((0,k.j4)()),e(sf.SR)}componentDidMount(){this.props.trackPageViewed()}shouldComponentUpdate(e){return!d()(this.props,e)}render(){let{statusCode:e,metatags:t,robotsTag:a,restaurantId:i,customTrackingTags:r,requestUUID:n,searchBarEnabled:l,isFavouritesEntryPointEnabled:o,isEditFlowEnabled:d}=this.props;return 200!==e?(0,s.jsx)(rS.default,{statusCode:e}):(0,s.jsxs)(g.A,{pageName:"partner-page",trackTTI:e=>this.props.trackTimeToInteractive(e,"Partner page",{restaurant_id:i,request_uuid:n||""}),customTrackingTags:r,pagePath:t.pagePath,alternateLocales:t.alternateLocales,pageTitle:t.title,ogTitle:t.titleSocial,metaDescription:t.description,ogDescription:t.descriptionSocial,robots:a,image:{src:t.image,width:t.imageWidth,height:t.imageHeight},skipToLinks:[{id:"menu-layout-link",href:"#menu-layout-container",label:D.A.gettext("menu_page.skip_content.accessibility_label")},{id:"page-footer-link",href:"#page-footer",label:D.A.gettext("skip_footer.generic.accessibility_label")}],children:[(0,s.jsx)(v.ON,{observer:rf.A,children:(0,s.jsx)(eS.A,{children:(0,s.jsx)(y.$S,{children:(0,s.jsxs)(rk.Ay,{children:[(0,s.jsx)(e_,{searchBarEnabled:l,isFavouritesEntryPointEnabled:o}),(0,s.jsx)(_.H,{children:(0,s.jsx)(w.K4,{children:(0,s.jsx)(S.gR,{children:(0,s.jsx)(A.U,{children:(0,s.jsx)(R,{children:(0,s.jsx)(rg,{})})})})})})]})})})}),(0,s.jsx)(ry,{}),(0,s.jsx)(x.A,{}),o&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(rC,{}),(0,s.jsx)(rT,{source:er.Xl.PARTNER})]}),d&&(0,s.jsx)(rR,{source:r_.p$.NUDGE_MENU}),(0,s.jsx)(f.A,{menuPageTracking:{title:t.title,restaurantId:i}})]})}}let rM={trackTimeToInteractive:p.S,trackPageViewed:m.A},rE=(0,l.Ng)(e=>{let t=(0,b.hP)(e);if(200!==t)return{statusCode:t};let{id:a,drnId:s}=(0,j.W8)(e),{items:i,requestUUID:r}=(0,j.nV)(e);return{statusCode:t,metatags:(0,j.Tk)(e),robotsTag:(0,b.MZ)(e),drnId:s,isEditFlowEnabled:(0,h.iM)(e,a0.CL_2681,h.lJ.FEATURE),restaurantId:a,customTrackingTags:[(0,b.sm)(i?.length)],requestUUID:r,searchBarEnabled:(0,h.L4)(e,c.CO_NEW_MENU_SEARCH_ENABLED),isFavouritesEntryPointEnabled:(0,rx.aE)(e)}},rM)(rI)},12621:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(e,t)=>e?.find(e=>e?.id===t)?.value},91995:(e,t,a)=>{"use strict";a.d(t,{G:()=>i,r:()=>r});let s=e=>{let{query:t=""}=e,a=1e3;return t.length>2?a=350:2===t.length&&(a=500),a},i=e=>{let t;return function(){for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];clearTimeout(t),t=setTimeout(()=>e(...i),s(...i))}},r=e=>{let t;return function(){for(var a=arguments.length,i=Array(a),r=0;r<a;r++)i[r]=arguments[r];return new Promise(a=>{clearTimeout(t),t=setTimeout(()=>{a(e(...i))},s(...i))})}}},72611:(e,t,a)=>{"use strict";function s(e,t){return t?Array.from({length:e}).map((e,a)=>t(a)):Array.from({length:e}).map((e,t)=>t)}a.d(t,{A:()=>s})},71395:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var s=a(63619);let i=()=>{},r=(()=>{if(!window.IntersectionObserver)return{isSupported:!1,observe:i,unobserve:i};let e=new s.x({rootMargin:"0px",threshold:[0,1]});return{isSupported:!0,observe:(t,a)=>{e.observe(t,e=>a(e))},unobserve:t=>{e.unobserve(t)}}})()},35522:e=>{e.exports={popoverInner:"AddressTooltip-0598e5ebb9f86892",popoverClose:"AddressTooltip-c509895300e866a5"}},1129:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",basket:"Basket-fbdf7bd4b817d685",isExpanded:"Basket-955fef6fc2c05f11",isEmptyState:"Basket-f6f2562f25f5c015",isLoading:"Basket-adf3b7241448014b",basketContents:"Basket-f5caca3c326dc38a",viewMobileBasketButton:"Basket-f1fd817fa4ca1f1d",buttonContentWrapper:"Basket-b9932db1d1832a16",basketItemCount:"Basket-dd02da5a93fbab7c",basketSubtotal:"Basket-b7e7fb6b73b46128",mobileBasketLoadingOverlay:"Basket-ee3814d856c609cb",loadingOverlay:"Basket-03591d19a6a285b6",mobileViewNotExpanded:"Basket-41175cea2c971fa2",basketFooter:"Basket-8dba143f78f6edc6"}},11251:e=>{e.exports={newBasketToggleContainer:"BasketBetaToggle-6257a0441acfa4d6",newBasketToggleText:"BasketBetaToggle-8e31f77d81f9fba3"}},40016:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",basketContents:"BasketContent-2d17bdf339932d18"}},86893:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",modalContent:"BasketEditItemModal-922b054db886f836",centeredContent:"BasketEditItemModal-1be5bd42552e298d",quantityControlWrapper:"BasketEditItemModal-bc6a9e493f6ab6f1",quantityControl:"BasketEditItemModal-df4f826161b3de29",quantity:"BasketEditItemModal-f1090847b876a8a9",backupStrategyOptions:"BasketEditItemModal-91de1e7a78cff21f"}},49064:e=>{e.exports={empty:"EmptyBasketScreen-4369638cac9ccad9",container:"EmptyBasketScreen-5c1fd31b6b59113c"}},49332:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",basketFooter:"UIBasketFooter-7370c44c5867bc32",progressBarContainer:"UIBasketFooter-414e7116e8e1b13e"}},59946:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",basketHeader:"UIBasketHeader-63eecc1df93bcd2a",headerDetails:"UIBasketHeader-d4437fd744af1a76",hideBasketCta:"UIBasketHeader-7eba533f2855fa07",mobileBasketTrashIcon:"UIBasketHeader-01db2d0776821001",desktopBasketTitle:"UIBasketHeader-81529f2e984663f0"}},30702:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",viewMobileBasketButton:"ViewMobileBasketButton-fa67d631422705a6",isExpanded:"ViewMobileBasketButton-e5bb0181776ff6d2",buttonContentWrapper:"ViewMobileBasketButton-5acf0fd86f9a70b1",hasDiscounts:"ViewMobileBasketButton-8feba71709fbed27",basketItemCount:"ViewMobileBasketButton-4661f9e223c40eb9",basketSubtotal:"ViewMobileBasketButton-bdc90ddc9edcdf5a"}},3407:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",wrapper:"UIFavouritesTrigger-da946d282a073473"}},40868:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",basket:"Basket-3539a77e4e7ac46e",isExpanded:"Basket-498550f591596542",header:"Basket-8a6643251f93b52e",hasBasketItems:"Basket-a7542fe627cde7fb",hideBasketCta:"Basket-710aaaa4c5463c50",content:"Basket-088911b69d5c3483",hasFooterNote:"Basket-ed2337c0b0dbb1b3",hasOfferProgressBar:"Basket-41da0521bb9c28e7",footer:"Basket-c6fc40ac4605dde6",ctas:"Basket-c997e076cd534078",wrapper:"Basket-b2f782cc96c5521d",count:"Basket-fcebe336eba70a1d",subtotal:"Basket-cc61671a5a1a1d80",basketCta:"Basket-00ece298090d6218",checkoutCta:"Basket-b2356c56643bf0c6"}},1950:e=>{e.exports={banner:"BasketBanner-c9c2f044f56fd6d8",isPlus:"BasketBanner-2cb07276451b48fc"}},30537:e=>{e.exports={row:"BasketDonations-8b71920be846c2f9",image:"BasketDonations-4345193e631346a6",roundUpToggle:"BasketDonations-05c238b6192c6ad2",donateOption:"BasketDonations-6500eeb708fb93ce"}},24131:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",fees:"BasketFeesAndTotals-73627e93611982ac",isBreakdownHidden:"BasketFeesAndTotals-f8fd16ba1adfb7a5",summary:"BasketFeesAndTotals-6c12990718a4fe85",plusLogo:"BasketFeesAndTotals-19d12735889ced3a",riderTip:"BasketFeesAndTotals-5f2768b6c8a520ae"}},52047:e=>{e.exports={wrapper:"BasketInfoPopover-7a4cd984fd86654e",popover:"BasketInfoPopover-d9a31ac7c067a2b2"}},60283:e=>{e.exports={wrapper:"BasketItem-d94264fa7d70b163",quantity:"BasketItem-015e00629c8f0793"}},10158:e=>{e.exports={empty:"BasketItems-7e49c1319ec16fbe"}},10805:e=>{e.exports={content:"BasketRecommendationsModal-c762b1c9218c29bd"}},65970:e=>{e.exports={item:"BasketRecommendedItem-32f1e93405c14507"}},75832:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",fulfillment:"FulfillmentInfoRow-89aba8c538de0cb6",isLoading:"FulfillmentInfoRow-abab69c717c68a7d"}},9973:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",banner:"GroupOrderBanner-c4e261e925b53560",content:"GroupOrderBanner-cacf2c64ccc26e03",info:"GroupOrderBanner-e2ecf704d8ca0397",ctas:"GroupOrderBanner-ad42a8aa9797ded9"}},63550:e=>{e.exports={content:"GroupOrderGuestModal-878978fc5020d100",head:"GroupOrderGuestModal-4d80a42e202125f3"}},21667:e=>{e.exports={content:"GroupOrderOwnerModal-c1491c90c844e303",head:"GroupOrderOwnerModal-3d9fbbdabc5df1eb"}},83704:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",banner:"HeaderBanners-2f0fdf6646fbc15a",badge:"HeaderBanners-c225bb965e5a080a"}},80809:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",linkButton:"HomeFeedLink-91decfbd5cf60e48",linkText:"HomeFeedLink-2b49256a9eb88a2a"}},97143:e=>{e.exports={content:"LayoutModal-e7eff64300ff8e34"}},27589:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",navigation:"LayoutNavigationBar-7b48ee922cb57321",hasBackButton:"LayoutNavigationBar-9ec49ae5a00d6bc6",isSecondary:"LayoutNavigationBar-5932951865db2b5a"}},83858:e=>{e.exports={navigation:"LayoutOptionNavigationBar-017b8eac284b8c82",target:"LayoutOptionNavigationBar-4938db3300ca1c07",targetIcon:"LayoutOptionNavigationBar-82b96376cb66ce1e",isActive:"LayoutOptionNavigationBar-cff093738010cdff",isHidden:"LayoutOptionNavigationBar-bbe3e61bdedc1826"}},71786:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",navigation:"LayoutTabNavigationBar-1c00cd05ee703049",tab:"LayoutTabNavigationBar-de2d8dc196107f0d",isSelected:"LayoutTabNavigationBar-c96c3a38bd3fda2b",target:"LayoutTabNavigationBar-23d306fa594798e8"}},28176:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",banner:"MenuFooterBanner-cb29ac0e6c1ef85d"}},30040:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",header:"MenuHeader-9e1e7e823358c53a",isHeaderHidden:"MenuHeader-001e91fa66dd7c35",outerWrapper:"MenuHeader-ab8bb00d5a4371e7",wrapper:"MenuHeader-2a6101b7ca1c48a8",menuHeaderRedesign:"MenuHeader-2bf6825e4be634bc",heroImage:"MenuHeader-f5663bee847582a6",info:"MenuHeader-45db0548af3525e1",groupOrderButton:"MenuHeader-fcbc6d86e25a4a8c"}},33860:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",illustrationWrapper:"MenuHeaderTitle-62d07ccbd71a31b2",menuHeaderRedesign:"MenuHeaderTitle-0f67d3ed08fb6b97"}},61554:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",layout:"MenuLayouts-fb711d07abb4cdbb",topContainer:"MenuLayouts-cd5a9b0c30d1f3e3",spacer:"MenuLayouts-ccd57d405179f001",content:"MenuLayouts-07b01454e450979a",wideBasket:"MenuLayouts-a3176183fb67cdbd",menu:"MenuLayouts-571ac6097b09545e",basket:"MenuLayouts-1fe37f9f68a8dad9",newBasket:"MenuLayouts-80bcf4217f18a418",menuSort:"MenuLayouts-195a9044f3971f06"}},52001:e=>{e.exports={header:"MenuNavHeader-ecf64df20464d195"}},38285:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",sortContainer:"MenuSort-06edef10f808d654",sortWrapper:"MenuSort-a2df3006177cebaa",sortWrapperNoHeader:"MenuSort-21d1341a61e2a060",sortLinksContainer:"MenuSort-11bd9c17ef9ad877"}},57322:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",container:"MultiPartnerOrderingModal-aae14697e34e92cf",layout:"MultiPartnerOrderingModal-211dc1a93a810b13",error:"MultiPartnerOrderingModal-7bc95f7fd0a58bde"}},12486:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",quantity:"RiderTipModal-0d5b062423845b41"}},96545:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",suggestionBox:"SearchSuggestionBox-0cc1b01fbee93356",suggestionBoxModal:"SearchSuggestionBox-23d4322ecae64326",loaderWrapper:"SearchSuggestionBox-e0e358ef31210326",section:"SearchSuggestionBox-637587306930a14f"}},44404:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",row:"UIHeaderInfoRows-023104015d7355b8",rightContent:"UIHeaderInfoRows-4c16fa13a5ed9be1",aside:"UIHeaderInfoRows-1b36069ee4c0f5a5",groupOrderButton:"UIHeaderInfoRows-858235f4877240ea"}},36192:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",ugcTagContainer:"UIHeaderRows-ea5ce2d006ed2fe0",ugcTagWrapper:"UIHeaderRows-ab77b62f82e222c3",ugcTag:"UIHeaderRows-2fde568de8c584ae",ugcTagGradient:"UIHeaderRows-daae510b2f75ad0a"}},41011:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",navigation:"UINavigationGroup-c26b246ed51b4a0d",isAdaptive:"UINavigationGroup-6215718501ed992f",isSecondary:"UINavigationGroup-b75b094a81839534"}},51347:e=>{e.exports={overlay:"PageOverlay-73bc44b5c5b7148a",fadeIn:"PageOverlay-351dee7d3df8191f"}},26208:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",modalOpen:"UIStoryModal-8a17fea8f34dbe46",hideRoot:"UIStoryModal-f79280474d70418b",modalBackground:"UIStoryModal-5a6b9e6b6e956700",noSelect:"UIStoryModal-460471cab0129938"}},14424:e=>{e.exports={wrapper:"ChallengesBasketItem-07dadb1a25be90e7"}},61051:e=>{e.exports={creditBreakdownHeader:"CreditBreakdownHeader-a664730df1034c82",title:"CreditBreakdownHeader-b40e1e79537a9fed",subtitle:"CreditBreakdownHeader-71b55f001bd083ec"}},51423:e=>{e.exports={creditBreakdownRestrictions:"CreditBreakdownRestrictions-464eeb28587b907e",heading:"CreditBreakdownRestrictions-d42a275f96639cf2",restrictions:"CreditBreakdownRestrictions-8bfd62b429f4b35f"}},82217:e=>{e.exports={creditBreakdownTable:"CreditBreakdownTable-04363aaf9e5852dc",heading:"CreditBreakdownTable-5b69f3dad0e19fba",items:"CreditBreakdownTable-23b12e9fbf8d5ec7"}},66959:e=>{e.exports={actions:"CreditRedemptionActions-00a5d0ae04453322"}},78215:e=>{e.exports={modalOverlay:"CreditStatusModal-c32af5e8704cf454",modalOverlayAfterOpen:"CreditStatusModal-ea8431bea8b5f48b",fadeIn:"CreditStatusModal-bf3cfdd10fed1a07",modalOverlayBeforeClose:"CreditStatusModal-9f29537c0fb39e08",fadeOut:"CreditStatusModal-7de8244f3049cd52",modal:"CreditStatusModal-96bfb1008ca99d6f",modalAfterOpen:"CreditStatusModal-8e82ed1cf0788362",appear:"CreditStatusModal-fa856c52bff76f00",modalBeforeClose:"CreditStatusModal-6cd7cafde8821bd8",statusContent:"CreditStatusModal-8496f73d44823ddd",icon:"CreditStatusModal-57414af52e71d21a",fadeInUp:"CreditStatusModal-85fa962f64307108",disappear:"CreditStatusModal-cde81413d10e9076",slideUp:"CreditStatusModal-600594e98c7545f2",wobble:"CreditStatusModal-c7b1f71978d2eecf",spinning:"CreditStatusModal-76dd10536292d5ef","order-status-progress-bar-pulse":"CreditStatusModal-9cb666c5fcbacae5","live-order-indicator-ripple":"CreditStatusModal-009fb0fcc3f21ea6","live-order-indicator-pulse":"CreditStatusModal-52b1ff92cb61047a",wave:"CreditStatusModal-4181101acc7a9f1a"}},14137:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",basketFeesModalButtonWrapper:"FeesEducationModal-e04e26efb7ab92d1",basketFeesIllustrationWrapper:"FeesEducationModal-77efc8c7cf74a3ec"}},77819:e=>{e.exports={modalOverlay:"FlexModal-93c45df1a21ad9ad",modalOverlayAfterOpen:"FlexModal-c81b6fc57477874a",fadeIn:"FlexModal-ad41fc92dcf02961",modalOverlayBeforeClose:"FlexModal-24ec793df39c23be",fadeOut:"FlexModal-aaf0cbe9d9ea1fd0",modal:"FlexModal-75938385f02a7f90",modalContent:"FlexModal-8145f73c4c4e71f7",modalHeader:"FlexModal-d519ca1f023fab33",modalTitle:"FlexModal-c81f6680ef520652",closeButton:"FlexModal-54e97d22fdf3f734",modalBody:"FlexModal-784403c6c1bb1530",modalFooter:"FlexModal-eadf62fdedd4e3a5",modalAfterOpen:"FlexModal-10594a90897c3ccc",slideUp:"FlexModal-825db8f1426c9948",appear:"FlexModal-c158cfc69a801df0",modalBeforeClose:"FlexModal-4803ec71c7c7bbc5",fadeInUp:"FlexModal-1de7588347af82f9",disappear:"FlexModal-c0c9eb32047ccc64",wobble:"FlexModal-188b222bc53758f2",spinning:"FlexModal-2908fd1ad0afb9ce","order-status-progress-bar-pulse":"FlexModal-e1c7924d33fcda02","live-order-indicator-ripple":"FlexModal-d5d58349532047c5","live-order-indicator-pulse":"FlexModal-5f09999db02d5bdb",wave:"FlexModal-278250a36241821f"}},40686:e=>{e.exports={radioLabel:"FulfillmentTimePicker-20dfadaadaf22902",typeSeparator:"FulfillmentTimePicker-da592d8f3aee5c5b",stackableRow:"FulfillmentTimePicker-b6ae770e989b9ca0",stackableCell:"FulfillmentTimePicker-a27c58c6461db341",cancelButtonWrapper:"FulfillmentTimePicker-e565786a7b98db36",confirmButtonWrapper:"FulfillmentTimePicker-854124b59be19baa"}},8215:e=>{e.exports={wrapper:"HomeSearchTabNavigation-f1b0f6671d0a06c8"}},33147:e=>{e.exports={wrapper:"LogisticsModal-a668b47bb1cae04a",flexContent:"LogisticsModal-cddc8827791be32c"}},42155:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",titleWrapper:"LogisticsModal-dfa979dffe095b79",desktopWrapper:"LogisticsModal-ca970e7bb617f2e2",mobileWrapper:"LogisticsModal-0c391e660181894c"}},50109:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",grid:"ResponsiveGridLayout-26d6b3dae28e76be","gutter-x-large":"ResponsiveGridLayout-deff45761bc7beb8","max-columns-2":"ResponsiveGridLayout-9c04bf732a673e8c","min-width-160px":"ResponsiveGridLayout-ded84990ce8d218c","max-columns-3":"ResponsiveGridLayout-a5e08e84b6492f7e","max-columns-4":"ResponsiveGridLayout-477c4ea9a59c785b","max-columns-5":"ResponsiveGridLayout-2613f3420bb55e89","max-columns-6":"ResponsiveGridLayout-c8896ff3456700d9","min-width-260px":"ResponsiveGridLayout-448405dea30926a0","min-width-400px":"ResponsiveGridLayout-8cfc1f9ec3000f37","gutter-large":"ResponsiveGridLayout-261bdb220ebbc9a6","gutter-medium":"ResponsiveGridLayout-f0be0a97d5b5905d","gutter-small":"ResponsiveGridLayout-c904cab0e930ff30","gutter-x-small":"ResponsiveGridLayout-a42dae5e5b3d305a","no-gutter":"ResponsiveGridLayout-a2f26259c2281769"}},64519:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",wrapper:"Search-ff2b10f79ba53ccb",wrapperModal:"Search-1fbe36c5de503825",clearButton:"Search-201be84c96ed3602",searchForm:"Search-94cae60f6c530ce4",inputWrapper:"Search-b17976736bdaa08d",collapsed:"Search-ba839d75711c0ac0",searchInput:"Search-cc0a8d4ec2f620d0",searchInputModal:"Search-8d4a5ec435f5c606",searchButton:"Search-b9caa5492e0221de",contentBefore:"Search-87718f8701289b50",results:"Search-2a2c4f5b8969ffab"}},55327:e=>{e.exports={wrapper:"SearchPills-652cf7fed20f375f"}},11459:e=>{e.exports={wrapper:"UIFiltersGroupSearch-7f606c3899609eb2",filterList:"UIFiltersGroupSearch-d28ec2189ad8d9e3"}},57414:e=>{e.exports={wrapper:"UIFiltersSearch-2b96da5ff2c98838",filters:"UIFiltersSearch-4252ce075dfaced0"}},6504:e=>{e.exports={maxWidthMobile:"(max-width: 540px)",minWidthTablet:"(min-width: 540px)",minWidthDesktop:"(min-width: 960px)",minWidthLargeDesktop:"(min-width: 1440px)",minWidthXLargeDesktop:"(min-width: 1920px)",wrapper:"SearchContainer-6546acb5bd11a767",isMobile:"SearchContainer-fe084e3976ea3d3e",desktopWrapper:"SearchContainer-247a4685dcd219ee",stickyHeader:"SearchContainer-2784df897ee6f307",modalContentWrapper:"SearchContainer-d68c669480c14ce4",searchAndPillsWrapper:"SearchContainer-371ec63da0f31609"}}},e=>{var t=t=>e(e.s=t);e.O(0,[9119,4934,72,681,1680,6938,3229,2229,3555,6518,1077,7202,4622,5832,2109,2118,4442,2239,1687,1678,8980,8753,6337,6008,2942,9303,329,5185,1538,7047,4534,8038,7086,8262,636,6593,8792],()=>t(55884)),_N_E=e.O()}]);
//# sourceMappingURL=[restaurant]-e2dc9275aaeff325.js.map